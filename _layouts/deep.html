<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONNX.js Example</title>
    <!-- ONNX.js 라이브러리 불러오기 -->
    <script src="https://cdn.jsdelivr.net/npm/onnxjs/dist/onnx.min.js"></script>
</head>
<body>
    <h1>ONNX.js Example</h1>
    <div id="output"></div>

    <script>
        // ONNX.js로 모델 로드
        const session = new onnx.InferenceSession();
        session.loadModel("assets\model\super_resolution.onnx").then(() => {
            console.log("ONNX 모델이 성공적으로 로드되었습니다.");

            // 예제 입력 데이터 생성 (모델 입력 크기에 맞춰 변경하세요)
            const inputTensor = new Float32Array(1 * 3 * 224 * 224); // 예제 입력 크기에 맞춰 변경하세요

            // 모델 실행
            const inputName = session.inputNames[0];
            const outputName = session.outputNames[0];
            const inputData = new onnx.Tensor(inputTensor, "float32");
            const feedDict = {};
            feedDict[inputName] = inputData;
            session.run(feedDict).then(output => {
                // 모델 실행 결과 출력
                const outputData = output.values().next().value;
                const result = outputData.data;
                document.getElementById("output").innerText = "모델 실행 결과: " + result;
            }).catch(err => {
                console.error("모델 실행 중 오류 발생:", err);
            });
        }).catch(err => {
            console.error("ONNX 모델 로드 중 오류 발생:", err);
        });
    </script>
</body>
</html>
