---
title: "[STM32] STM32 2일차 기초 UAR  "
date: 2024-01-01
last_modified_at: 2024-01-01
categories:
  - STM32
tags:
  - STM32


published: true
toc: true
toc_sticky: true
---

# 자료 설명
-------------------

1. UART (비동기식) USART(동기식)

 범용 동기 송수신기

 데이터를 보낼떄 동기 또는 비동기식으로 전달

 동기는 클럭과 동기 맞춰서 전달

 비동기식은 시간 관격으로 조절하면 Baudrate 을 일치해야 한다

 데게 디버깅 용도로 사용한다

![Uart 영상 자료](/assets/img/Stm32/Uart%20%EC%84%A4%EB%AA%85%20%EC%98%81%EC%83%81.png)



# 소스코드
-------------------
HAL_UART_Transmit(UART 주소, 전달 변수, 변수 크기, 딜레이)

```c
  uint8_t a = 'a';
  while (1)
  {

	  if(HAL_UART_Receive(&huart3, &a, 1, 10) == HAL_OK)
	  {
		  HAL_UART_Transmit(&huart3, &a, 1, 10);
		  HAL_Delay(500);

	  }
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
```


# Pirntf 사용하기
------------------

1. 표준 입력 함수 추가하기

- #include "stdio.h" 추가

2. printf() 함수 출력 대상을 리데렉션하기

- Private user code -- 위치에
```c
int _write(int file, char* p, int len)
{
	HAL_UART_Transmit(&huart3, p, len, 10);
	return len;
}
```



# 참고 
printf 시 float 형식 사용할려면
-u _printf_float 을 설정해야한다


![float 세팅 방법](/assets/img/Stm32/printf_floatSetting.png)



# UART Interrupt 사용하기

 - 추후 업데이트




# 출처
1. 참고 양상강의 자료
https://www.youtube.com/watch?v=_7Ll95FITn4&list=PLUaCOzp6U-RqMo-QEJQOkVOl1Us8BNgXk&index=4&ab_channel=ChrisWonyeobPark