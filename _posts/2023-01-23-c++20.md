---
layout: post
title:  "c++ 20일차"
---


구조체 포인터 
```c++
#include <stdlib.h>
#include <stdio.h>
#include <wchar.h>

#include <assert.h>


typedef struct _tagMyST
{
	int a; //멤버
	float f;
}MYST;

int main()
{
	MYST s = {};

	MYST* pST = &s;
	pST + 1; //8씩 계산

	(*pST).a = 100;
	//*pST는 s의 주소를 가리키고 s의 주소에는 a와 f로 또 나눠져 있는데
	//a에 100을 넣겠다는 뜻.
	//실행해 보면 s안에 있는 a에 100이 들어있음.
	(*pST).f = 3.14f;
	//결국 (*pST).a = 100;이것과 (*pST).f = 3.14f;이것은 
	//MYST s의 s를 수정하겠다는 뜻

	//(*pST)이것은 MYST*이것으로 역참조 해서 간 공간을 MYST로 본다

	pST->a = 100;
	pST->f = 3.14f;
	//역참조 이후 파트를 지칭하는 것을 한번에 표현하는 것





	return 0;
}
```


동적할당 1 
```c++
#include <iosTream>

//변수
//지역(스택)
//전역, 정적, 외부(데이터)


//메모리 영역
//스택
//데이터
//ROM
//힙 영역(동적할당) --> 실시간으로 대응이 가능한 것(런타임 중에 대응 가능한 것), 
//프로그램 실행 도중 내가 원하는 만큼 메모리를 요청할 수 있는 것
//--->이 함수를 설계하는 그 순간에 이 함수가 호출되면 어떻게 동작할지를 이미 코드로
//다 작성을 해놨고 변수라는 존재는 동적으로 대응되는 것이 불가능하다.
//그래서 어떠한 변수도 힙 영역을 쓰지 못하는 것이다.
//힙 영역을 변수 없이 어떻게 쓰는가? 그래서 포인터가 나오는 것이다.


int main()
{
	malloc();
	//메모리 할당 함수 (반환타입 : void, 단위 : Byte)
	//내가 지정한 사이즈만큼 힙 영역에 메모리를 생성시켜준다.
	//malloc(100); ---> 코드가 수행되는 순간에100byte가 힙 영역에 만들어진 것이다.
	//만들어지고 나서 주소를 주는 것이다.
	//int* pInt = (int*)malloc(100);
	//--->100byte를 할당해서 그 시작 주소를 int포인터 변수에 넣어준 것이다.
	
	//*pInt;
	//주소를 받아서 가보면 그 부분이 힙 메모리 영역의 100byte의 시작 부분이다.




	return 0;
}

//malloc이 void포인터로 주는 이유
//malloc은 요청한 만큼 메모리를 할당하고 주소를 줄 뿐이고 거기에 대한 자신의 견해가
//없다. 받아가는 쪽에서 자기가 그 곳을 어떤 목적으로 쓸지 알맞은 포인터 타입으로 
//가리켜서 조작을 하는 것이지 malloc이 이걸 되돌려 줄때 순순하게 주소의 개념으로만
//줄 것이기 때문에 반환타입이 void포인터로 설정이 되어 있는 것이다.
```
