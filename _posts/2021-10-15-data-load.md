---
layout: single
title:  "pandas.read_csv 스터디"
categories: study
tag: [pandas]
toc_label: "Contents"
toc: true
toc_sticky: true
---

# CSV 데이터 로딩 스터디

- 기본적으로 데이터 전치리와 시각화 하는 라이브러리 로드 진행
- 공공데이터 또는 csv 형태로 된 데이터를 로딩하는 법을 공부해보자!

## 라이브러리 로드


```python
# 라이브러리 로드
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
```



## 한글 폰트 설정


```python
# matplotlib.pyplot 의 설정을 해야만 그래프에서 마이너스 값과 한글폰트가 보입니다.
# matplotlib에서 한글폰트를 사용하기 위해서는 rc config를 활용해야 함!!

plt.rc("font", family="Malgun Gothic")
plt.rc("axes", unicode_minus=False)
```

https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.rc.html



## 점 더 선명하게 보이도록 설정


```python
# 레티나 디스플레이로 폰트가 선명하게 표시

from IPython.display import set_matplotlib_formats
set_matplotlib_formats("retina")
```

실질적으로 효과가 있는지 모르겠다.



## 데이터 불러오기

판다스의 read_ 활용
https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html

로드하려고 하는 파일이 해당 쥬피터노트북 파일과 동일한 위치 또는 아래 위치에 있어야 함!!


```python
df = pd.read_csv("21-10-15-example-data.csv")
df.head(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
    
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>상가업소번호</th>
      <th>상호명</th>
      <th>지점명</th>
      <th>상권업종대분류코드</th>
      <th>상권업종대분류명</th>
      <th>상권업종중분류코드</th>
      <th>상권업종중분류명</th>
      <th>상권업종소분류코드</th>
      <th>상권업종소분류명</th>
      <th>표준산업분류코드</th>
      <th>...</th>
      <th>건물관리번호</th>
      <th>건물명</th>
      <th>도로명주소</th>
      <th>구우편번호</th>
      <th>신우편번호</th>
      <th>동정보</th>
      <th>층정보</th>
      <th>호정보</th>
      <th>경도</th>
      <th>위도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>25033300</td>
      <td>동그라미중고타이어</td>
      <td>NaN</td>
      <td>D</td>
      <td>소매</td>
      <td>D23</td>
      <td>자동차/자동차용품</td>
      <td>D23A04</td>
      <td>타이어판매</td>
      <td>G45211</td>
      <td>...</td>
      <td>4215011100110960006010791</td>
      <td>NaN</td>
      <td>강원도 강릉시 가작로 270</td>
      <td>210110</td>
      <td>25488.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>128.904472</td>
      <td>37.770252</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 39 columns</p>
</div>



일반적으로 csv 파일 안 구분은 ,(콤마)로 구분되어 있는데 |와 같은 방식으로 구분되는 경우가 있기 때문에 주의해야함!!

그리고 파일이 저장된 방식에 따라 오류가 생길 수 있는데 encoding을 활용해서 변환이 필요한 경우도 있음

공공데이터 포털에서 "주택도시보증공사_전국 평균 분양가격"파일을 다운로드 받아 불러올 경우 인코딩을 설정을 해주어야 한글이 깨지지 않습니다.
보통 엑셀로 저장된 한글의 인코딩은 cp949 혹은 euc-kr로 되어 있습니다.
df_last 라는 변수에 최근 분양가 파일을 다운로드 받아 로드합니다.

* 한글인코딩 : [‘설믜를 설믜라 못 부르는’ 김설믜씨 “제 이름을 지켜주세요” : 사회일반 : 사회 : 뉴스 : 한겨레](http://www.hani.co.kr/arti/society/society_general/864914.html)





21-10-15 Comments

> 아직 pandas.read_ 중 csv만 경험했는데 다양한 포맷도 활용할 수 있도록 공부가 필요. 그 중 mysql에 저장된 데이터를 어떻게하면 pandas로 불러와 활용할 수 있는지 공부!! 

