---
title: "MFC_Post 이벤트 만들"
categories:
  - MFC
  - 메세지

tags: [MFC, Message]
toc : true
comments: true
---
# 1. 이벤트 함수 만들기

 클래스 마법사를 통해 DefWindowProc 함수 를 추가한다

 ``` cpp
LRESULT CMfcOpencvTemplateDlg::DefWindowProc(UINT message, WPARAM wParam, LPARAM lParam)
{
	// TODO: 여기에 특수화된 코드를 추가 및/또는 기본 클래스를 호출합니다.

	return CDialogEx::DefWindowProc(message, wParam, lParam);
}
```

# 2. 이벤트 명령어 추가한다

 사용자가 사용할수 있는 명령어 보다 커야 하므로 WM_USER +1 형식으로 추가한다.

 ```cpp
#define PostMessageLED WM_USER+1
 ```

# 3. 메세지 호출한다.


```cpp
	PostMessage(PostMessageLED);
```

# 4. 가상함수에서 메세지에 따른 기능을 수행한다

```cpp
LRESULT CMfcOpencvTemplateDlg::DefWindowProc(UINT message, WPARAM wParam, LPARAM lParam)
{
	// TODO: 여기에 특수화된 코드를 추가 및/또는 기본 클래스를 호출합니다.
	if (message ==  PostMessageLED)
	{
		SendSerial_Device("01ON1");
		waitKey(10);
		SendSerial_Device("01ON0");

	}
	return CDialogEx::DefWindowProc(message, wParam, lParam);
}

```



----------
# 참고 링크

https://luckygg.tistory.com/174