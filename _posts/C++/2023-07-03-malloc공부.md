---
title: "[C] MALLOC  "
date: 2023-07-03
last_modified_at: 2023-07-03
categories:
  - C
tags:
  - C

published: false
toc: true
toc_sticky: true
---


# 자주 사용하는데 완벽하게 사용하지 못한 나의 기술들

1. malloc
2. 포인터
3. 문자열 배열
4. 파일 읽쓰기



# malloc
1. 기본 적인 사용법

```cpp
    int arr[4] = { 4,3,2,1 };        //크기가 4인 배열 선언
    int* pArr;                        //int 타입을 가리키는 포인터 pArr 선언

    //int 타입사이즈 * 4 만큼의 메모리를 할당해라!
    pArr = (int*)malloc(sizeof(int) * 4);

    if (pArr == NULL)
    {
        //메모리 할당에 실패하면 이쪽으로 들어옵니다.
        printf("malloc error");
    }

    for (int i = 0; i < 4; ++i)
    {
        pArr[i] = arr[i];
    }

    for (int i = 0; i < 4; ++i)
    {
        printf("%d \n", pArr[i]);
    }

    //할당한 메모리를 해제해줍니다.
    free(pArr);

    system("pause");
```





2. 포인터
```C++
#include <iostream>
#include <string.h>

using namespace std;

void add(int a, int b, int* sum)
{
    *sum = a + b;
    cout <<"함수내 공간" << sum << endl;
}

int main(int argc, char* argv[], char* envp[])
{
    bool numberLines = false;    // Default is no line numbers.

    // If /n is passed to the .exe, display numbered listing
    // of environment variables.
    if ((argc == 2) && _stricmp(argv[1], "/n") == 0)
        numberLines = true;
   
    int a = 3;
    int b = 3;

    int sum = 0;

    add(a, b, &sum);

    cout << sum << "test" << &sum << endl;
    system("pause");
    return 0;
}      
```

# 관련 링크
1. malloc
https://blockdmask.tistory.com/290

2. C언어 공부용
http://www.tcpschool.com/c/c_pointer_intro

https://jhnyang.tistory.com/100