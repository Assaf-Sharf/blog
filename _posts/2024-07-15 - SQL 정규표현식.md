## 서문


 이병률의 시집 서문 "눈 냄새를 맡았는데 맡는 중이었음에도 눈의 냄새가 사무치게, 그리웠다."라 쓰여있다.

<구의 증명> 작가의 말에서도 (놀랍게도) "글을 쓰면서도 글을 쓰고 싶다."고 적혀있다.

 작가의 정점에 서 있는 두 사람의 공통된 양상을 미루어 볼 때, 어쩌면 사랑이라는 것은 평생 해소되지 않는 갈증을 안고 가야 하는 숙명일지도 모르겠다.

   이 이야기를 갑자기 왜 하냐면, 망할 SQL을 배우며 내가 느낀 것과 비슷하기 때문이다. SQL을 배울수록 SQL을 모르겠다. 더 절망적인 점은 , 그렇다고 배우고 싶다거나 모른다고 해서, 미지의 영역을 구축해야겠다는 마음이 생기지 않는다는 것이다.

연인으로 발전하는 관계에서 적당한 밀당은 효과적일지도 모르나, 너무 과한 밀당은 오히려 역효과를 내듯이, 이 SQL의 알 듯 말 듯한 문법에서 나는 지쳤고, 그만 헤어지고 싶다. SQL 특유의 도도함과 싸가지는 나를 지치게 함에 충분했다.


그럼에도, 이 글을 쓰는 이유는 그냥 하라고 해서 한다. 

솔직히 이 글을 쓰면서도 SQL의 마음을 모르겠다. 궁예가 관심법을 써도 모를 것이다.

## [왜 SQL을 배워야 하는갸? ](https://youtu.be/z9chRlD1tec?feature=shared)


```python
from IPython.display import YouTubeVideo
YouTubeVideo('z9chRlD1tec?si=tyaYey-KbvgbRrce')
```





<iframe
    width="400"
    height="300"
    src="https://www.youtube.com/embed/z9chRlD1tec?si=tyaYey-KbvgbRrce"
    frameborder="0"
    allowfullscreen

></iframe>





- SQL은 데아터베이스와 대화하기 위해 특별히 디자인된 언어다.
- SQL에는 두 가지 종류가 있다. 1) Relational 2) Non-Relational
- 안타깝게도 대부분의 회사에서 SQL을 사용한다.
- ORM : 파이썬을 가져와서 SQL 코드로 바꿔주는 일 한다.
문제는 ORM에 의존하게 된다는 것이다. (나같아도 의존할 듯)
더 빠르게 해결해야 하거나 , 뭔가 안되는 상황이 오면 어떻게 대처해야 할 지 모른다.

    따라서 결국 SQL을 기본적인 문법을 아는 정도라도 배워두는 것이 좋다고 한다.

## [정규표현식(正規表現式, Regular Expression)](https://ko.wikipedia.org/wiki/%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D)

SQL도 벅찬데 정규 표현식을 배워야한단다.
그럼 자연스럽게 따라오는 의문은

<정규 표현식을 왜 쓰는가?> 에 대해 챗GPT에게 물어봤다.

SQL에서 정규표현식을 사용하는 이유는 주로 문자열 데이터의 **패턴 매칭과 데이터 검증**을 효율적으로 수행하기 위해서다. 

몇 가지 주요 이유를 살펴보면:

1. **복잡한 검색 조건 처리**: 정규표현식을 사용하면 단순한 문자열 검색보다 훨씬 복잡한 패턴을 매칭할 수 있다. 예를 들어, 이메일 주소나 전화번호와 같은 특정 형식을 가진 데이터를 찾을 때 유용하다.

2. **데이터 검증**: 입력된 데이터가 특정 형식을 따르는지 확인할 수 있습니다. 예를 들어, 사용자가 입력한 이메일 주소가 올바른 형식인지 검증할 때 정규표현식을 사용할 수 있다.

3. **데이터 변환 및 정리**: 정규표현식을 사용하여 데이터에서 불필요한 부분을 제거하거나 특정 패턴을 다른 패턴으로 변환할 수 있다. 예를 들어, 텍스트에서 모든 공백을 제거하거나 특정 단어를 다른 단어로 치환할 수 있다.

4. **유연한 쿼리 작성**: 정규표현식을 사용하면 다양한 조건을 하나의 쿼리로 처리할 수 있어 쿼리 작성이 더 유연해진다.

한 줄 요약 : 패턴을 표현하기 위함


### [정규 표현식의 용어들](https://ccambo.blogspot.com/2014/10/regular-expression.html)


```python
%%html
<style>
table {float:left}
</style>
```


<style>
table {float:left}
</style>



|표현식|의미|
|------|----|
|^x | 문자열의 시작을 표현하며 x 문자로 시작됨을 의미한다.|
|x$ | 문자열의 종료를 표현하며 x 문자로 종료됨을 의미한다.|     
|.x | 임의의 한 문자의 자리수를 표현하며 문자열이 x 로 끝난다는 것을 의미한다.|     
|x+ | 반복을 표현하며 x 문자가 한번 이상 반복됨을 의미한다.|
|x? | 존재여부를 표현하며 x 문자가 존재할 수도, 존재하지 않을 수도 있음을 의미한다.|
|x*|  반복여부를 표현하며 x 문자가 0번 또는 그 이상 반복됨을 의미한다.|
|(x) | 그룹을 표현하며 x 를 그룹으로 처리함을 의미한다.|
|(x)(y)|  그룹들의 집합을 표현하며 앞에서 부터 순서대로 번호를 부여하여 관리하고 x, y 는 각 그룹의 데이터로 관리된다.|
|(x)(?:y) | 그룹들의 집합에 대한 예외를 표현하며 그룹 집합으로 관리되지 않음을 의미한다. |
| x{n}| 반복을 표현하며 x 문자가 n번 반복됨을 의미한다.|
|x{n,}| 반복을 표현하며 x 문자가 n번 이상 반복됨을 의미한다.|   
|x{n,m}|  반복을 표현하며 x 문자가 최소 n번 이상 최대 m 번 이하로 반복됨을 의미한다.|


아래는 좀 더 특수하게 사용되는 문자들이다.

[]는 내부에 지정된 문자열의 범위 중 하나를 선택하겠다는 의미다.
리스트와 비슷하다.

|표현식|의미|
|------|----|
|[xy]|문자 선택을 표현하며 x 와 y 중에 하나를 의미한다.|
|[^xy]|not 을 표현하며  x 및 y 를 제외한 문자를 의미한다.|
|[x-z]|range를 표현하며 x ~ z 사이의 문자를 의미한다. |
|\^| escape 를 표현하며 ^ 를 문자로 사용함을 의미한다.|
|\b| word boundary를 표현하며 문자와 공백사이의 문자를 의미한다.|
|\B|non word boundary를 표현하며 문자와 공백사이가 아닌 문자를 의미한다.|
|\d|digit 를 표현하며 숫자를 의미한다. |
|\D|non digit 를 표현하며 숫자가 아닌 것을 의미한다.| 
|\s|space 를 표현하며 공백 문자를 의미한다. |
|\S|non space를 표현하며 공백 문자가 아닌 것을 의미한다.|
|\t|tab 을 표현하며 탭 문자를 의미한다.|
|\v|vertical tab을 표현하며 수직 탭(?) 문자를 의미한다.|
|\w|word 를 표현하며 알파벳 + 숫자 + _ 중의 한 문자임을 의미한다.| 
|\W|non word를 표현하며 알파벳 + 숫자 + _ 가 아닌 문자를 의미한다.| 



[참고 및 출처](https://ccambo.blogspot.com/2014/10/regular-expression.html)

## 실전이다. 

정규표현식을 작성하면 이해하기 쉽도록 [도식화](https://regexper.com/)해주는 사이트를 이용해 연습해보자.

세상 참 좋다.


```python
### 참고할 사례들

- 한글 코드 (단순) 
  /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/ 로 구성이 가능하다. 단, 한글 문제는 단순하지 않으므로 좀 더 좋은 방법을 찾는 것이 좋다.

- 숫자
  /[0-9]/g

- 이메일
  /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i
    
- 모든 공백
  /\s/g 

- 전화번호
  /^\d{3}-\d{3,4}-\d{4}$/ 

- 핸드폰 번호 
  /^01([0|1|6|7|8|9]?)-?([0-9]{3,4})-?([0-9]{4})$/   

- URL
  ^(https?):\/\/([^:\/\s]+)(:([^\/]*))?((\/[^\s/\/]+)*)?\/?([^#\s\?]*)(\?([^#\s]*))?(#(\w*))?$|

```

![image](https://github.com/user-attachments/assets/c122e71a-518c-4203-ae07-fec1359a660b)


```python

```
