---
layout: single
title: Linux - Tar 
date: 2022-01-02
classes: wide
toc: true
toc_label: "Tabla de contenido"
toc_icon: "clipboard-list"
header:
  teaser: /assets/images/linux/tux.jpg
categories:
  - linux
  - linux-manual
tags:
  - linux-comprimir
  - linux-tar
page_css: 
  - /assets/css/mi-css.css
---

### Tar - Tape ARchive

* Archivador de ficheros

* Se utiliza para **crear** y **manipular** archivos de almacenamiento en sistemas **Unix/Linux**
  * El comando **tar** crea un archivo **.tar** y se puede comprimir usando como opciones los compresores **gzip** o **bzip2**

* Se utilizan para agrupar archivos , guardarlos dentro de un nuevo archivo comprimido y para extraerlos después de comprimirlos

#### Compresión y Descompresión de archivos

* Existen varias opciones para la compresión de ficheros en **Unix/Linux** los cuales se pueden combinar con el archivador **tar**

* Cada archivo comprimido necesita de su mismo **descompresor** para poder **descomprimirlo**

  * **gzip** - Compresor instalado en casi todos los sistemas **Linux**
    * **gunzip** - Descompresor estandar
  
  * **zip** - Compresor
    * **unzip** - Descompresor estandar

  * **bz2** - Compresor más eficiente que **gzip** por ello tarda más y consume más CPU
    * **bunzip2** - Descompresor estandar
  
  * **rar** - Compresor
    * **unrar** - Descompresor estandar
  
#### Opciones del comando

* c - Crear un archivo

* v - Ver detalles textualizado de los procesos que se producen al ejecutar el comando "opcional"

* f - Se usa para que salga a un archivo con el nombre inmediatamente siguiente

* t - Lista el contenido de un archivo comprimido

* z - Comprimir con el compresor gzip

* j - Comprimir con el compresor bz2

* --exclude - Se usa para excluir archivos en la compresión

##### Ejemplo - Opciones de compresión de ficheros

* Crear un **tar** _sin comprimir_ **(.tar)** usa la opción **c**

```bash
                      ← ← ← ← ← ← ← ← 
                      ↓             ↑ 
tar cvf /path/to/foo.tar /path/to/foo/
```

* Crear un archivo **.gz** con **tar**

```bash
tar zcvf /path/to/foo.tgz /path/to/foo/
```

* Guarda el contenido de **/etc** y **/var** dentro del fichero **archivo.tar**

```bash
             ← ← ← ← ← ← ← ←
             ↓        ↑    ↑ 
tar cfp archivo.tar /etc /var
```

* Extrae todo el contenido de **archivo.tar**

```bash
tar xfp archivo.tar 
```

* Archiva y comprime con el compresor **gzip** el directorio **/usr**

```bash
tar zcfp archivo.tgz /usr
```

* Archiva y comprime con el compresor **bzip2** el directorio **/usr**

```bash
tar jcfp archivo.tgz /usr
```

* Descomprime el fichero anterior

```bash
tar zxfp archivo.tgz 
```

##### Ejemplo - Crear archivo comprimido tar

```bash
tar cvf tarfile.tar file1.extension file2.extension file3.extension
```

* No tiene limite a la hora de agregar archivos a la compresión

* Acepta comodines como __*__ y **?** entre otros

##### Ejemplo - Comprimir todo el contenido de un directorio y enviar el archivo comprimido a un directorio concreto

* Copia todo lo que hay dentro del directorio **Documentos** y lo almacena en el directorio **media** con el nombre del archivo ``backup.tar`` o el que le asignemos

```bash
                  ← ← ← ← ← ← ← ← ← ← ← ← ← ←
                  ↓                         ↑    
tar cvf /media/backup.tar /home/usuario/Documentos/
```

##### Ejemplo - Ver contenido del archivo

```bash
tar tf archivo.tar
```
