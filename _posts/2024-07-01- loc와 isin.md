## 파일 불러오기


```python
import pandas as pd
import seaborn as sns

print(pd.__version__)
print(sns.__version__)
```

    2.1.4
    0.12.2
    


```python
iris = sns.load_dataset("iris")
iris
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>145</th>
      <td>6.7</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.3</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>146</th>
      <td>6.3</td>
      <td>2.5</td>
      <td>5.0</td>
      <td>1.9</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>147</th>
      <td>6.5</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.0</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>148</th>
      <td>6.2</td>
      <td>3.4</td>
      <td>5.4</td>
      <td>2.3</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>149</th>
      <td>5.9</td>
      <td>3.0</td>
      <td>5.1</td>
      <td>1.8</td>
      <td>virginica</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 5 columns</p>
</div>




```python
iris.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>




```python
iris.shape
```




    (150, 5)



(행, 열)


```python
iris.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 150 entries, 0 to 149
    Data columns (total 5 columns):
     #   Column        Non-Null Count  Dtype  
    ---  ------        --------------  -----  
     0   sepal_length  150 non-null    float64
     1   sepal_width   150 non-null    float64
     2   petal_length  150 non-null    float64
     3   petal_width   150 non-null    float64
     4   species       150 non-null    object 
    dtypes: float64(4), object(1)
    memory usage: 6.0+ KB
    


```python
iris.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>150.000000</td>
      <td>150.000000</td>
      <td>150.000000</td>
      <td>150.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5.843333</td>
      <td>3.057333</td>
      <td>3.758000</td>
      <td>1.199333</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.828066</td>
      <td>0.435866</td>
      <td>1.765298</td>
      <td>0.762238</td>
    </tr>
    <tr>
      <th>min</th>
      <td>4.300000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>0.100000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>5.100000</td>
      <td>2.800000</td>
      <td>1.600000</td>
      <td>0.300000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5.800000</td>
      <td>3.000000</td>
      <td>4.350000</td>
      <td>1.300000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>6.400000</td>
      <td>3.300000</td>
      <td>5.100000</td>
      <td>1.800000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.900000</td>
      <td>4.400000</td>
      <td>6.900000</td>
      <td>2.500000</td>
    </tr>
  </tbody>
</table>
</div>




```python
iris['sepal_length'].value_counts()
```




    sepal_length
    5.0    10
    5.1     9
    6.3     9
    5.7     8
    6.7     8
    5.8     7
    5.5     7
    6.4     7
    4.9     6
    5.4     6
    6.1     6
    6.0     6
    5.6     6
    4.8     5
    6.5     5
    6.2     4
    7.7     4
    6.9     4
    4.6     4
    5.2     4
    5.9     3
    4.4     3
    7.2     3
    6.8     3
    6.6     2
    4.7     2
    7.6     1
    7.4     1
    7.3     1
    7.0     1
    7.1     1
    5.3     1
    4.3     1
    4.5     1
    7.9     1
    Name: count, dtype: int64




```python
iris['species'].value_counts() 
```




    species
    setosa        50
    versicolor    50
    virginica     50
    Name: count, dtype: int64



## 데이터 타입 확인

데이터 타입은 항시 확인하자.


```python
type(iris['species'])
```




    pandas.core.series.Series



### [series datatype](https://pandas.pydata.org/docs/reference/api/pandas.Series.html) 

### test


```python
iris['species'].value_counts().array
```




    <NumpyExtensionArray>
    [50, 50, 50]
    Length: 3, dtype: int64




```python
iris['species'].dtype
```




    dtype('O')




```python
iris['sepal_length'].dtype
```




    dtype('float64')




```python
iris['sepal_length'].empty
```




    False




```python
df = iris.drop("species",axis=1 )
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>145</th>
      <td>6.7</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.3</td>
    </tr>
    <tr>
      <th>146</th>
      <td>6.3</td>
      <td>2.5</td>
      <td>5.0</td>
      <td>1.9</td>
    </tr>
    <tr>
      <th>147</th>
      <td>6.5</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>148</th>
      <td>6.2</td>
      <td>3.4</td>
      <td>5.4</td>
      <td>2.3</td>
    </tr>
    <tr>
      <th>149</th>
      <td>5.9</td>
      <td>3.0</td>
      <td>5.1</td>
      <td>1.8</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 4 columns</p>
</div>




```python
iris.shape, df.shape
```




    ((150, 5), (150, 4))




```python
df2= iris.drop(['sepal_length','sepal_width'],axis=1)
df2.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.3</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>



### error


```python
df3= iris.drop(['sepal_length','sepal_width'],axis = 0)
df3.head()

```


    ---------------------------------------------------------------------------

    KeyError                                  Traceback (most recent call last)

    Cell In[100], line 1
    ----> 1 df3= iris.drop(['sepal_length','sepal_width'],axis = 0)
          2 df3.head()
    

    File C:\ProgramData\anaconda3\Lib\site-packages\pandas\core\frame.py:5344, in DataFrame.drop(self, labels, axis, index, columns, level, inplace, errors)
       5196 def drop(
       5197     self,
       5198     labels: IndexLabel | None = None,
       (...)
       5205     errors: IgnoreRaise = "raise",
       5206 ) -> DataFrame | None:
       5207     """
       5208     Drop specified labels from rows or columns.
       5209 
       (...)
       5342             weight  1.0     0.8
       5343     """
    -> 5344     return super().drop(
       5345         labels=labels,
       5346         axis=axis,
       5347         index=index,
       5348         columns=columns,
       5349         level=level,
       5350         inplace=inplace,
       5351         errors=errors,
       5352     )
    

    File C:\ProgramData\anaconda3\Lib\site-packages\pandas\core\generic.py:4711, in NDFrame.drop(self, labels, axis, index, columns, level, inplace, errors)
       4709 for axis, labels in axes.items():
       4710     if labels is not None:
    -> 4711         obj = obj._drop_axis(labels, axis, level=level, errors=errors)
       4713 if inplace:
       4714     self._update_inplace(obj)
    

    File C:\ProgramData\anaconda3\Lib\site-packages\pandas\core\generic.py:4753, in NDFrame._drop_axis(self, labels, axis, level, errors, only_slice)
       4751         new_axis = axis.drop(labels, level=level, errors=errors)
       4752     else:
    -> 4753         new_axis = axis.drop(labels, errors=errors)
       4754     indexer = axis.get_indexer(new_axis)
       4756 # Case for non-unique axis
       4757 else:
    

    File C:\ProgramData\anaconda3\Lib\site-packages\pandas\core\indexes\base.py:7000, in Index.drop(self, labels, errors)
       6998 if mask.any():
       6999     if errors != "ignore":
    -> 7000         raise KeyError(f"{labels[mask].tolist()} not found in axis")
       7001     indexer = indexer[~mask]
       7002 return self.delete(indexer)
    

    KeyError: "['sepal_length', 'sepal_width'] not found in axis"


drop 함수의 axis 매개변수는 삭제할 대상이 행인지 열인지를 지정한다. 
axis=0은 행을 삭제하겠다는 의미이고, axis=1은 열을 삭제하겠다는 의미다.

따라서, 'sepal_length’와 'sepal_width’와 같은 열을 삭제하려면 axis 매개변수를 1로 설정해야 한다.


```python
df3= iris.drop([0,1,2],axis = 0)
df3.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5.4</td>
      <td>3.9</td>
      <td>1.7</td>
      <td>0.4</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>6</th>
      <td>4.6</td>
      <td>3.4</td>
      <td>1.4</td>
      <td>0.3</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>7</th>
      <td>5.0</td>
      <td>3.4</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>



^ 처음 ***인덱스*** 번호가 3이면 곤란. ***0으로 시작하게끔 맞춰줘야 한다.*** 
 + .reset_index(drop=True)


```python
df3= iris.drop([0,1,2],axis = 0).reset_index(drop=True)
df3.head(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>



## 파일 입출력
## 파일 내보내기
### 경로 지정 


```python
iris.to_csv("iris.csv")
```


```python
iris.to_csv("iris2.csv",index=False)
```


```python
iris.to_csv("./test_data/iris.csv", index=False)
```

## 경로 설정
 - 리눅스와 비슷함 


```python
iris.to_csv("../test_data/iris.csv", index=False) 
# .. -> 상위 파일로 옮겨주기 
```


```python
## 실습
```

## 파일 불러오기
 - 파일 압축푼 후 -> 넣고자 하는 폴더에 넣음 -> **copt path** 클릭 후 붙어넣기 


```python
iris_df = pd.read_csv("./test_data/iris.csv")
iris_df.head(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>




```python
kaggle_df = pd.read_csv("./kaggle/test.csv")
kaggle_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Driving_License</th>
      <th>Region_Code</th>
      <th>Previously_Insured</th>
      <th>Vehicle_Age</th>
      <th>Vehicle_Damage</th>
      <th>Annual_Premium</th>
      <th>Policy_Sales_Channel</th>
      <th>Vintage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>11504798</td>
      <td>Female</td>
      <td>20</td>
      <td>1</td>
      <td>47.0</td>
      <td>0</td>
      <td>&lt; 1 Year</td>
      <td>No</td>
      <td>2630.0</td>
      <td>160.0</td>
      <td>228</td>
    </tr>
    <tr>
      <th>1</th>
      <td>11504799</td>
      <td>Male</td>
      <td>47</td>
      <td>1</td>
      <td>28.0</td>
      <td>0</td>
      <td>1-2 Year</td>
      <td>Yes</td>
      <td>37483.0</td>
      <td>124.0</td>
      <td>123</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11504800</td>
      <td>Male</td>
      <td>47</td>
      <td>1</td>
      <td>43.0</td>
      <td>0</td>
      <td>1-2 Year</td>
      <td>Yes</td>
      <td>2630.0</td>
      <td>26.0</td>
      <td>271</td>
    </tr>
    <tr>
      <th>3</th>
      <td>11504801</td>
      <td>Female</td>
      <td>22</td>
      <td>1</td>
      <td>47.0</td>
      <td>1</td>
      <td>&lt; 1 Year</td>
      <td>No</td>
      <td>24502.0</td>
      <td>152.0</td>
      <td>115</td>
    </tr>
    <tr>
      <th>4</th>
      <td>11504802</td>
      <td>Male</td>
      <td>51</td>
      <td>1</td>
      <td>19.0</td>
      <td>0</td>
      <td>1-2 Year</td>
      <td>No</td>
      <td>34115.0</td>
      <td>124.0</td>
      <td>148</td>
    </tr>
  </tbody>
</table>
</div>



## copt path  방법1


```python

data_path = 'kaggle/train.csv'

train = pd.read_csv(data_path)
train.head(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Driving_License</th>
      <th>Region_Code</th>
      <th>Previously_Insured</th>
      <th>Vehicle_Age</th>
      <th>Vehicle_Damage</th>
      <th>Annual_Premium</th>
      <th>Policy_Sales_Channel</th>
      <th>Vintage</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>Male</td>
      <td>21</td>
      <td>1</td>
      <td>35.0</td>
      <td>0</td>
      <td>1-2 Year</td>
      <td>Yes</td>
      <td>65101.0</td>
      <td>124.0</td>
      <td>187</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



## copt path 방법2


```python
data_path = 'kaggle/'

test = pd.read_csv(data_path + 'test.csv')
test.head(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Driving_License</th>
      <th>Region_Code</th>
      <th>Previously_Insured</th>
      <th>Vehicle_Age</th>
      <th>Vehicle_Damage</th>
      <th>Annual_Premium</th>
      <th>Policy_Sales_Channel</th>
      <th>Vintage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>11504798</td>
      <td>Female</td>
      <td>20</td>
      <td>1</td>
      <td>47.0</td>
      <td>0</td>
      <td>&lt; 1 Year</td>
      <td>No</td>
      <td>2630.0</td>
      <td>160.0</td>
      <td>228</td>
    </tr>
  </tbody>
</table>
</div>




```python
submission = pd.read_csv(data_path + 'sample_submission.csv')
submission.head(1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>11504798</td>
      <td>0.5</td>
    </tr>
  </tbody>
</table>
</div>



## iloc vs loc 차이 
 - 강사 왈 : 일단은 loc만 기억하자 (이유 직관적임)

## iris.loc[행,열]


```python
iris.loc[ :,['sepal_length','species']]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>145</th>
      <td>6.7</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>146</th>
      <td>6.3</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>147</th>
      <td>6.5</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>148</th>
      <td>6.2</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>149</th>
      <td>5.9</td>
      <td>virginica</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 2 columns</p>
</div>




```python
cols = ['sepal_length','species','petal_length']
#조건식
iris.loc[iris['sepal_length'] >= 7.5 , cols] #true 일 때 추출
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>species</th>
      <th>petal_length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>105</th>
      <td>7.6</td>
      <td>virginica</td>
      <td>6.6</td>
    </tr>
    <tr>
      <th>117</th>
      <td>7.7</td>
      <td>virginica</td>
      <td>6.7</td>
    </tr>
    <tr>
      <th>118</th>
      <td>7.7</td>
      <td>virginica</td>
      <td>6.9</td>
    </tr>
    <tr>
      <th>122</th>
      <td>7.7</td>
      <td>virginica</td>
      <td>6.7</td>
    </tr>
    <tr>
      <th>131</th>
      <td>7.9</td>
      <td>virginica</td>
      <td>6.4</td>
    </tr>
    <tr>
      <th>135</th>
      <td>7.7</td>
      <td>virginica</td>
      <td>6.1</td>
    </tr>
  </tbody>
</table>
</div>




```python
iris.loc[iris['petal_length'] <=3.5, cols]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>species</th>
      <th>petal_length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5.4</td>
      <td>setosa</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>6</th>
      <td>4.6</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>7</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4.4</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>9</th>
      <td>4.9</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>10</th>
      <td>5.4</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>11</th>
      <td>4.8</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>12</th>
      <td>4.8</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>13</th>
      <td>4.3</td>
      <td>setosa</td>
      <td>1.1</td>
    </tr>
    <tr>
      <th>14</th>
      <td>5.8</td>
      <td>setosa</td>
      <td>1.2</td>
    </tr>
    <tr>
      <th>15</th>
      <td>5.7</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>16</th>
      <td>5.4</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>17</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>18</th>
      <td>5.7</td>
      <td>setosa</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>19</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>20</th>
      <td>5.4</td>
      <td>setosa</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>21</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>22</th>
      <td>4.6</td>
      <td>setosa</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>24</th>
      <td>4.8</td>
      <td>setosa</td>
      <td>1.9</td>
    </tr>
    <tr>
      <th>25</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>26</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>27</th>
      <td>5.2</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>28</th>
      <td>5.2</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>29</th>
      <td>4.7</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>30</th>
      <td>4.8</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>31</th>
      <td>5.4</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>32</th>
      <td>5.2</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>33</th>
      <td>5.5</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>34</th>
      <td>4.9</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>35</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.2</td>
    </tr>
    <tr>
      <th>36</th>
      <td>5.5</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>37</th>
      <td>4.9</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>38</th>
      <td>4.4</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>39</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>40</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>41</th>
      <td>4.5</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>42</th>
      <td>4.4</td>
      <td>setosa</td>
      <td>1.3</td>
    </tr>
    <tr>
      <th>43</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>44</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.9</td>
    </tr>
    <tr>
      <th>45</th>
      <td>4.8</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>46</th>
      <td>5.1</td>
      <td>setosa</td>
      <td>1.6</td>
    </tr>
    <tr>
      <th>47</th>
      <td>4.6</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>48</th>
      <td>5.3</td>
      <td>setosa</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>49</th>
      <td>5.0</td>
      <td>setosa</td>
      <td>1.4</td>
    </tr>
    <tr>
      <th>57</th>
      <td>4.9</td>
      <td>versicolor</td>
      <td>3.3</td>
    </tr>
    <tr>
      <th>60</th>
      <td>5.0</td>
      <td>versicolor</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>79</th>
      <td>5.7</td>
      <td>versicolor</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>93</th>
      <td>5.0</td>
      <td>versicolor</td>
      <td>3.3</td>
    </tr>
    <tr>
      <th>98</th>
      <td>5.1</td>
      <td>versicolor</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div>



## 문제 1.
- petal_length 가 1.7 이상값 조회, 필드명은 sepal_width, petal_length 만 추출하세요


```python
s =  ['sepal_width', 'petal_length']
iris.loc[iris['petal_length'] >= 1.7, s].reset_index(drop=True)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_width</th>
      <th>petal_length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3.9</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.8</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.4</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.3</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.4</td>
      <td>1.9</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>101</th>
      <td>3.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>102</th>
      <td>2.5</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>103</th>
      <td>3.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>104</th>
      <td>3.4</td>
      <td>5.4</td>
    </tr>
    <tr>
      <th>105</th>
      <td>3.0</td>
      <td>5.1</td>
    </tr>
  </tbody>
</table>
<p>106 rows × 2 columns</p>
</div>



## 다중 조건 
- AND 연산자 : 교집합 , &
- OR 연산자  : 합집합, |

**result = iris,loc[(조건1) & (조건2), cols].reset_index(drop=True)**

**result**


```python
result1 = iris.loc[iris['species'] == 'setosa']
result2 = result1.loc[iris['sepal_length'] <= 5.1]
result2.shape
```




    (36, 5)




```python
#and
cols = ['sepal_width', 'petal_length']
result = iris.loc[(iris['species'] == 'setosa') & (iris['sepal_length'] <= 5.1), cols].reset_index(drop=True)
result.shape
```




    (36, 2)




```python
#or
cols = ['sepal_width', 'petal_length']
result = iris.loc[(iris['species'] == 'setosa') | (iris['sepal_length'] <= 5.1), cols].reset_index(drop=True)
result.shape
```




    (55, 2)



## 다중 조건 문제
 - Gender가 Male 인 것만 조회하고 , 전체 행의 개수는? 


```python
train.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Driving_License</th>
      <th>Region_Code</th>
      <th>Previously_Insured</th>
      <th>Vehicle_Age</th>
      <th>Vehicle_Damage</th>
      <th>Annual_Premium</th>
      <th>Policy_Sales_Channel</th>
      <th>Vintage</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>Male</td>
      <td>21</td>
      <td>1</td>
      <td>35.0</td>
      <td>0</td>
      <td>1-2 Year</td>
      <td>Yes</td>
      <td>65101.0</td>
      <td>124.0</td>
      <td>187</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Male</td>
      <td>43</td>
      <td>1</td>
      <td>28.0</td>
      <td>0</td>
      <td>&gt; 2 Years</td>
      <td>Yes</td>
      <td>58911.0</td>
      <td>26.0</td>
      <td>288</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>Female</td>
      <td>25</td>
      <td>1</td>
      <td>14.0</td>
      <td>1</td>
      <td>&lt; 1 Year</td>
      <td>No</td>
      <td>38043.0</td>
      <td>152.0</td>
      <td>254</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>Female</td>
      <td>35</td>
      <td>1</td>
      <td>1.0</td>
      <td>0</td>
      <td>1-2 Year</td>
      <td>Yes</td>
      <td>2630.0</td>
      <td>156.0</td>
      <td>76</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>Female</td>
      <td>36</td>
      <td>1</td>
      <td>15.0</td>
      <td>1</td>
      <td>1-2 Year</td>
      <td>No</td>
      <td>31951.0</td>
      <td>152.0</td>
      <td>294</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
#데이터프레임 -> tuple -> int
train.loc[train['Gender'] == 'Male',:].shape
```




    (6228134, 12)




```python
test  = (6228134, 12)
test[0]
```




    6228134




```python
train['Vehicle_Age'].value_counts()

```




    Vehicle_Age
    1-2 Year     5982678
    < 1 Year     5044145
    > 2 Years     477975
    Name: count, dtype: int64



## isit 활용 문제
- Vehicle_Age 가 1-2 year과 < 1 year 만 추출
- [isin()](https://pandas.pydata.org/docs/reference/api/pandas.Series.isin.html) 연산자 활용 


```python
train['Vehicle_Age'].value_counts() 
```




    Vehicle_Age
    1-2 Year     5982678
    < 1 Year     5044145
    > 2 Years     477975
    Name: count, dtype: int64




```python
s = pd.Series(['llama', 'cow', 'llama', 'beetle', 'llama',
               'hippo'], name='animal')
s.value_counts()
```




    animal
    llama     3
    cow       1
    beetle    1
    hippo     1
    Name: count, dtype: int64




```python
s.isin(['cow', 'llama'])
```




    0     True
    1     True
    2     True
    3    False
    4     True
    5    False
    Name: animal, dtype: bool




```python
Vehicle_Age_Values = ['1-2 Year', '< 1 Year']
train.loc[train['Vehicle_Age'].isin(Vehicle_Age_Values), :].shape
```




    (11026823, 12)


