---
title: "기술 MFC 잡다한 기술 편 (Dialog 전체 화면,글자 색 변경 방법,마우스 좌표 구하기), 버튼 입력 차단하기"
categories:
  - 기술
  - C++
  - MFC

tags: [C++ ,MFC,Dialog 전체 화면]
toc : true
comments: true
---


1. Dialog 전체화면 만들기

	ShowWindow(SW_SHOWMAXIMIZED);


2. 글자 색 변경 방법

 1) 클래스 마법사에서 WM_CTLCOLOR 실행
 2) 생성된 함수 OnCtlColor 에서

 3) 해당 코드 입력

 ```C++

HBRUSH Clss_Dialog::OnCtlColor(CDC* pDC, CWnd* pWnd, UINT nCtlColor)
{
	HBRUSH hbr = CDialogEx::OnCtlColor(pDC, pWnd, nCtlColor);

	switch (nCtlColor)
	{
	case CTLCOLOR_BTN:
		pDC->SetBkColor(RGB(0, 0, 0));
		return (HBRUSH)GetStockObject(NULL_BRUSH);

	case CTLCOLOR_STATIC:
		/* 변동하지 않는것 정리*/
		//if (pWnd->GetDlgCtrlID() == IDC_STATIC_Title)
		//{
		//	return hbr;
		//}

		pDC->SetTextColor(RGB(255, 255, 255));
		pDC->SetBkColor(RGB(0, 0, 0));

		return (HBRUSH)GetStockObject(NULL_BRUSH);
	default:
		return CDialog::OnCtlColor(pDC, pWnd, nCtlColor);
	}
	// TODO:  기본값이 적당하지 않으면 다른 브러시를 반환합니다.
	return hbr;
}

 ```

3. 마우스 좌표 구하기

```C++
	POINT ptOld;                // previous cursor location 
	::GetCursorPos(&ptOld);
```

4. 버튼 입력 차단하기

 1) 클래스 마법사에서  가상함수에 PreTranslateMessage실행
 2) 생성된 함수 PreTranslateMessage 에서

 3) 해당 코드 입력
 
 ``` C++
BOOL CDlg::PreTranslateMessage(MSG* pMsg)
{
	// TODO: 여기에 특수화된 코드를 추가 및/또는 기본 클래스를 호출합니다.
	if (pMsg->message == WM_KEYDOWN)
	{
		if (pMsg->wParam == VK_RETURN) // ENTER키 눌릴 시
			return TRUE;
		else if (pMsg->wParam == VK_ESCAPE) // ESC키 눌릴 시
			return TRUE;
		else if (pMsg->wParam == VK_SPACE) // VK_SPACE키 눌릴 시
			return TRUE;

	}

	return CDialogEx::PreTranslateMessage(pMsg);
}

 ```
  해당 기능 응용해서 버튼 입력시 동작 컨트롤이 될것 이다.
----

  * 참고 링크
  1. Dialog 전체화면 만들기 관련 참고 링크
  https://godtory.tistory.com/27 
  3. 마우스 좌표 구하기
  https://learn.microsoft.com/en-us/windows/win32/menurc/using-cursors
