---
layout: single
title:  "코딩테스트 문제 풀이 2"
categories: codingtest  
tag: [코딩테스트] 
toc: true 
author_profile: false
# sidebar: 
#   nav: "docs"
search: true
---



> ### **문제 설명** 

[오픈채팅방](https://school.programmers.co.kr/learn/courses/30/lessons/42888?language=javascript)

> ### **엉망진창 나의 풀이 과정**

이리 저리 고민하다가 결국 풀지 못했다.. 

```js
function solution(record) {
  var answer = [];


  // let rec = record[0].split(" ");
  // console.log(rec);
  // console.log(rec[0]);

  let result = []; 

  for (let i = 0; i < record.length; i++) {
    let rec = record[i].split(" ");
    result.push(rec); 
  }

  //console.log(result);
  //console.log(result[0][1]);
  let result_str = []; 

  for (let i = 0; i < result.length; i++) {
    //console.log(result[i]); 
    //console.log(result[i][0]);
    if (result[i][0] == 'Enter') {
      result[i].shift(); 
      result_str[i] = result[i].splice(0, 1);
      

      if (result[i].length === 0) {
        result[i].push(result_str[i][0]);
      }
      result[i].push('님이 들어왔습니다.');  
      
    }
    else if (result[i][0] == 'Leave') {
      result[i].shift(); 
      result_str[i] = result[i].splice(0, 1);
      

      if (result[i].length === 0) {
        result[i].push(result_str[i][0]);
      }
      result[i].push('님이 나갔습니다.'); 
      
      
    }
    else if (result[i][0] == 'Change') {
      result[i].shift(); 
      result_str[i] = result[i].splice(0, 1);
      

      if (result[i].length === 0) {
        result[i].push(result_str[i][0]);
      }
      result[i].push('님이 들어왔습니다.'); 
       
      
    }
  }
  //console.log(result); 
  //console.log(result_str);


  return answer;
}
```



> ### **다른 사람들의 코드를 통한 개선 및 회고**

* 나는 계속 `record[i].split(' ');`한 값을 단순 변수에만 저장하려고 했는데, 아래처럼 `const[state, uid, name]`로 저장하니까 if문에서 비교할 때 훨씬 간결해보인다. 
* Map()을 활용하지 못했다. 뭔가 uid값과 name값을 key-value 형태로 저장하겠다는 생각까지는 할 수 있었는데 개념을 모르다 보니 깊게 들어가지 못했다. map()에서 key 값이 중복되지 않게 저장된다는 점을 아예 떠올리지 못했다. 그리고 key값이 중복되지 않기 때문에, 같은 key값으로 `map.set(key, value);`를 계속하게 되면 그 key 값에 계속 새로운 value로 업데이트 된다는 점이 내가 가장 고민했던 지점이자,  이 문제를 풀어내는 핵심인 것 같다. 
* 배열에 `.push`를 할 때 단순히 값만 push하는 게 아니라 `[uid, '님이 들어왔습니다.'];`처럼 배열도 넣을 수 있다는 걸 왜 나는 생각하지 못했을까. 
* `return answer.map(ele => map.get(ele[0]) + ele[1]);` 부분은 생각조차 하지 못했다. 나는 Map()에 대한 이해가 아직 많이 부족하다. 

```js
function solution(record) {
  var answer = [];

  const map = new Map(); 

  for (let i = 0; i < record.length; i++) {
    const [state, uid, name] = record[i].split(' '); // 이렇게 쉽게 선언할 수 있구나. 

    //console.log([state, uid, name]);
    if (state === 'Leave') {
      answer.push([uid, '님이 나갔습니다.']);

      continue; 
    }

    if (state === 'Enter') {
      answer.push([uid, '님이 들어왔습니다.']); 
    }

    map.set(uid, name); 
  }
  //console.log(map); // map의 경우 key가 중복될 수 없으니까. 
  //console.log(answer);
  

  //return answer;
  return answer.map(ele => map.get(ele[0]) + ele[1]);
}

let input = ["Enter uid1234 Muzi", "Enter uid4567 Prodo", "Leave uid1234", "Enter uid1234 Prodo", "Change uid4567 Ryan"];

console.log(solution(input));

출처: https://kis6473.tistory.com/167 [I.S:티스토리]
```

* 아래 풀이는 똑같은 과정을 object를 통해 푼 것이다. 

```js
function solution(record) {
    let answer = [];
    const map = {};
    
    for (let i = 0; i < record.length; ++i) {
        const [state, uid, name] = record[i].split(' ');
        
        if (state == 'Leave') {
            answer.push([uid, '님이 나갔습니다.']);
            
            continue;
        }
        
        if (state == 'Enter') {
            answer.push([uid, '님이 들어왔습니다.']);
        }

        map[uid] = name;
    }
    
    return answer.map(ele => map[ele[0]] + ele[1]);
}
출처: https://kis6473.tistory.com/167 [I.S:티스토리]
```

> ### **추가 공부 : map과 object**



map()은 주로 배열의 값을 재정의할 때 사용한다. 정확히는 주어진 배열을 오름차순으로 접근해 콜백함수를 통해 새로운 값을 정의하고, 신규 배열을 만들어 반환한다고 한다. 배열의 값을 재정의할 때, map이 아니라 for문을 통해서도 유사한 결과값을 도출할 수 있어도, map()은 간결한 반면 for문은 '순환'이라는 부분까지 직접 처리해줘야 하므로 코드가 길어진다는 단점이 있다. 

map()을 기존 배열의 값을 재정의할 때 사용하지만, 이 재정의한 값을 새로운 변수에 저장하면 새로운 형태의 배열을 가진 변수를 생성할 수도 있다는 의미가 된다. 

```js
let answer = ['abc', 'ab', 'a', ''];
let lengthOfAnswer = answer.map(number => number.length);

console.log(lengthOfAnswer); 
// output: [ 3, 2, 1, 0 ]
```

[Array - map() 사용법](https://7942yongdae.tistory.com/entry/Javascript-Array-map-사용법)

[Javascript ES6 Map vs Object Performance 비교](https://medium.com/@wdjty326/javascript-es6-map-vs-object-performance-비교-7f98e30bf6c8)

[set, map, object 정리](https://velog.io/@proshy/JSSet-Map-Object-정리)

[ES6 - Map vs Object - What and When?](https://medium.com/front-end-weekly/es6-map-vs-object-what-and-when-b80621932373)

이렇게 작성하는 건 색칠이 안 되는건가? 
