---
title:  "[Oracle DB] (중급1) 기본 정리"

categories:
  - oracleDB
tags:
  - [RDBMS, OracleDB,중급1]

toc: true
toc_sticky: true

date: 2021-09-07
last_modified_at: 2021-09-07

---

# Oracle DB(중급) 기본 정리
개인적으로 공부하면서 참조하려고 만든 포스트입니다.
유튜브 SQL전문가 정미나 님의 강의를 참고하였습니다.

<br>

## WITH 절
WITH절은 서브쿼리를 별도로 빼내어서 이름을 지어주는 것이다. 개발할 때 여러번 쓰이는 모듈을 따로 분리하여 공통 모듈을 만드는 것과 같다.
WITH 절 사용예시

``` sql
WITH CHANHYUK AS 
(
  SELECT '박찬혁입니다' as GREET
  FROM DUAL
)

SELECT * FROM CHANHYUK; -- 박찬혁입니다
```

## EXISTS, NOT EXISTS
SELECT A 조건절에 EXISTS B 를 사용하면 교집합에 해당하는 데이터를 골라내겠다. SELECT A 조건절에 NOT EXISTS B 를 사용하면 차집합에 해당하는 데이터를 골라내겠다.
런닝맨과 무한도전에 나오는 출연진중 교집합을 찾는 쿼리문을 작성해보자

``` sql
SELECT * FROM 런닝맨 A WHERE EXISTS (SELECT 'X' FROM 무한도전 B WHERE A.NAME = B.NAME);
```
위의 쿼리문에서 EXISTS => NOT EXISTS 로 바꿔주면 런닝맨 출연진중 무한도전의 출연진이 아닌 사람들을 바로 뽑아낼 수 있다.

## SQL injection 웹해킹
해커가 ID : 1 Password 1 or 1=1 라고 입력을 한다면 로그인에 성공할 수도있다. 왜 그런지 쿼리문을 살펴보자
```sql
SELECT NAME as name,HOP_NO as hpNo
  FROM MEMBER
  WHERE (ID = 1 AND PASSWORD = 1) or 1=1
```
위처럼 원래는 ID = id AND PASSWORD = password 로 실행되어야할 쿼리문이 패스워드 칸에 1 or 1=1 를 실행해버리면 연산 순서가 바뀌어서 or뒤에 1=1 은 항상 true 이고 or true 이면 그 절은 true이므로
항상 로그인에 성공할 수 있게된다.

***
<br>

    🌜 주관적인 견해가 담긴 글입니다. 다양한 의견이 있으실 경우
    언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}

