---
layout: single
title:  "[백준]11286번: 절댓값 힙"
categories: baekjoon
tag: [python, class_3, algolithm, silver, heap]
toc: true
author_profile: false
sidebar:
    nav: "docs"
---

# 절댓값 힙

solved_ac[Class3] [절댓값 힙](https://www.acmicpc.net/problem/11286)

## 문제

절댓값 힙은 다음과 같은 연산을 지원하는 자료구조이다.

1. 배열에 정수 x (x ≠ 0)를 넣는다.
2. 배열에서 절댓값이 가장 작은 값을 출력하고, 그 값을 배열에서 제거한다. 절댓값이 가장 작은 값이 여러개일 때는, 가장 작은 수를 출력하고, 그 값을 배열에서 제거한다.

프로그램은 처음에 비어있는 배열에서 시작하게 된다.


## 입력

첫째 줄에 연산의 개수 N(1≤N≤100,000)이 주어진다. 다음 N개의 줄에는 연산에 대한 정보를 나타내는 정수 x가 주어진다. 만약 x가 0이 아니라면 배열에 x라는 값을 넣는(추가하는) 연산이고, x가 0이라면 배열에서 절댓값이 가장 작은 값을 출력하고 그 값을 배열에서 제거하는 경우이다. 입력되는 정수는 -2^31보다 크고, 2^31보다 작다.

## 출력

입력에서 0이 주어진 회수만큼 답을 출력한다. 만약 배열이 비어 있는 경우인데 절댓값이 가장 작은 값을 출력하라고 한 경우에는 0을 출력하면 된다.

## 예제 입력 1 

```
18
1
-1
0
0
0
1
1
-1
-1
2
-2
0
0
0
0
0
0
0
```

## 예제 출력 1 

```
-1
1
0
-1
-1
1
1
-2
2
0
```


# 문제 해석

[[백준]1927번: 최소 힙](https://donghyeok1.github.io/baekjoon/1927/)에서 힙 구조에 대해 자세히 설명해 놨으니 보도록 하자.


# 풀이

- 파이썬에서 제공해주는 heapq는 최소힙이다. 절대값으로 받기 위해서는 음수로 집어넣어주면 되는데 절대값이 같은 수가 여러개이면 가장 낮은 수를 출력하기 위해서 음수인지 양수인지 판별할 수 있는 어떠한 장치가 있어야 한다.
- 그래서 튜플로 heap에 넣어주는데 들어가는 수가 음수이면 튜플의 두번째 값을 -1을 넣어주고, 양수이면 +1을 넣어준다.
- 입력받은 수 a가 0보다 크면?
    - (a, 1)을 넣어준다.
- a가 0보다 작으면?
    - (-a, -1)을 넣어준다.
- a가 0이라면?
    - heap의 길이가 0이면? 
        - 배열이 비어있는 것이기 때문에 0을 출력
    - heap의 길이가 2보다 크다면?
        - 2보다 큰지를 물어보는 이유는 절대값이 같은 수가 2개이상 존재하는지 체크하기 위해서이다.
        - 첫번째 수와 두번째 수가 만약 같다면?
            - 절대값이 같은 수가 2개 이상 존재하기 때문에 sort 함수를 써서 전체 정렬을 시켜준다.
    - 튜플의 2번째 값이 -1이라면?
        - 1번째 값이 넣기 전에 음수라는 것이니깐 튜플의 첫번째 값을 -를 붙여서 넣기 전 상태로 출력
    - 1이라면?
        - 양수이기 때문에 튜플의 첫번째 값을 그대로 출력

```python
import sys
import heapq

N = int(sys.stdin.readline())

heap = []

for i in range(N):
    a = int(sys.stdin.readline())
    if a > 0:
        heapq.heappush(heap, (a, 1))
    elif a < 0:
        heapq.heappush(heap, (-a, -1))
    else:
        if len(heap) == 0:
            print("0")
            continue
        if len(heap) > 2:
            if heap[0][0] == heap[1][0]:
                heap.sort()  
        b = heapq.heappop(heap)
        if b[1] == -1:
            print(-b[0])
        else:
            print(b[0])     
```
