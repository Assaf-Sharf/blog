---
layout: single
title:  "[AIFLD2023] 어쩌다 키포인트 검출 제대로 입문하기"
categories : seminar
tag : [python, mmpose, seminar, keypoint-estimation]
toc: true
toc_sticky: true
---

![header](https://capsule-render.vercel.app/api?type=waving&color=a2dcec&height=300&section=header&text=[AIFLD2023] 어쩌다 키포인트 검출 제대로 입문하기&fontSize=35&animation=fadeIn&fontAlignY=38&fontColor=FFFFFF)

- [발표 자료](https://www.youtube.com/live/tnncgDjVWKA?feature=shared)

  <table align="left">
    <td>
      <a target="_blank" href="https://colab.research.google.com/github/choijhyeok/Collection-of-presentation-materials/blob/main/%EC%96%B4%EC%A9%8C%EB%8B%A4_%ED%82%A4%ED%8F%AC%EC%9D%B8%ED%8A%B8_%EA%B2%80%EC%B6%9C_%EC%A0%9C%EB%8C%80%EB%A1%9C_%EC%9E%85%EB%AC%B8%ED%95%98%EA%B8%B0.ipynb"><img src="https://www.tensorflow.org/images/colab_logo_32px.png" />구글 코랩에서 실행하기</a>
    </td>
  </table>



&nbsp;

# MMPose keypoint-estimation tutorial

- Keypoints 분야에 빠르게 사용할수 있는 패키지인 MMPose 패키지에 대한 사용법 입니다.

- MMDetection에 대한 예제는 많이 있지만 MMPose에 대한 예제가 별로 없어서 작성하였습니다.
- 이해가 가지 않는 부분은 발표한 내용을 참조해 주시면 감사하겠습니다.

&nbsp;

### MMPose 설치

- 첫 설치후 다시 시작 (자동으로 런타임 재시작)

```python
import os

if 'mmpose' not in os.listdir('./'):
  !pip install -U openmim
  !mim install mmcv-full

  !pip install mmdet==2.26.0

  !git clone https://github.com/open-mmlab/mmpose.git
  %cd mmpose

  !pip install -r requirements.txt
  !pip install -e .

  !pip install --upgrade numpy
  !pip install --upgrade --no-cache-dir gdown
  !pip install gradio

  os.kill(os.getpid(), 9)

else:
  !pip install --upgrade numpy
```

- 현재 mmpose 패키지의 numpy 에러가 존재하여 colab상에서 런타임 재실행 및 다시 코드를 실행하시면 문제없이 작동합니다.

&nbsp;

### 사용할 데이터 소개

![image-20230217212920819](/images/2023-02-17-mmpose1/image-20230217212920819.png)

- MPII 데이터셋에서 train 800장 : valid 100장 : test 100장 만 데이터셋 정재하였습니다.
  - MPII 데이터셋 같은 경우는 사람의 다양한 행동이 포함된 데이터셋 입니다.

&nbsp;

### 실제 keypoint 시각화

- 아래 이미지처럼 keypoints estimation의 목표는 관절에 해당하는 keypoints를 찾는 것

![image-20230217213119642](/images/2023-02-17-mmpose1/image-20230217213119642.png)

&nbsp;

### MMPose 결과 시각화

- HRNet을 사용하였고, 100epoch 기준으로 훈련하였습니다.
- 생각보다 시각화한 결과를 보면 keypoints를 잘 잡아내는 걸 볼수 있습니다.

![image-20230217213253449](/images/2023-02-17-mmpose1/image-20230217213253449.png)

> 자세한 사용방법및 상세 설명은 colab안에 작성하였습니다.

### 빠르게 전체 내용 확인하기
<script src="https://gist.github.com/choijhyeok/e733e98b60edd7cf1ea8d6905db46296.js"></script>
