---
layout: single
title: "[Git] Git Flow"
date: "2022-02-06 08:30:00"
categories: Git
tag: [Git, GitFlow]
toc: true
author_profile: true
# sidebar:
#   nav: "docs"
---

## 📌 Git Flow란?

**Git Flow**란 <u class="custom-border-bottom">실무에서 깃을 어떻게 사용 해야하는지에 대한 전반적이고 표준화된 방식이다.</u> 이번 장에서는 깃 플로우가 실무에서 어떻게 사용이 되는지 알아보자.

## 📊 Git Flow Concept

<img src="https://user-images.githubusercontent.com/53969142/152672053-8ff2aace-f14a-433d-b577-fb0fd099b9a6.PNG" width="70%" height="100%">

- <span style="color: red; font-weight:bold">master</span>
  - 제품으로 출시될 수 있는 브랜치, 배포의 경우 master 브랜치의 소스를 배포
  - <u class="custom-border-bottom">master branch는 항상 서비스 가능한 상태의 소스코드</u>
- <span style="color: red; font-weight:bold">develop</span>
  - 다음 출시 버전을 개발하는 브랜치
  - 기능 개발 시 feature branch 생성
- **feature**
  - 기능 개발 브랜치
- **release**
  - 이번 출시 버전을 준비하는 브랜치
- **hotfix**
  - 출시 버전에서 발생하는 긴급 버그를 수정하는 브랜치

## ✨ Install Git Flow

### ✅ Vscode 설치 방법

<img src="https://user-images.githubusercontent.com/53969142/152677187-143ba8c6-502a-44d4-bdfc-299d478bbf22.PNG" width="100%" height="100%">

1. VS Code의 gitflow plugin를 설치한다.

### ✅ [Window 설치 방법]

```text
Extension을 사용하지 않으실 분은 아래 Window 설치 방법을 참고해주세요.
```

- [window 설치 방법](https://www.youtube.com/watch?v=VY8K9FguM-E&list=PLEOnZ6GeucBUvJYvTTnNalSFvYqVObVVH)
- [gitflow document](https://github.com/nvie/gitflow/wiki/Windows#git-for-windows-previously-msysgit)

### ✅ Mac 설치 방법

```shell
$> brew install git-flow
```

### ✅ Linux 설치 방법

```shell
$> sudo -
$> dnf install git -y
$> curl -OL https://raw.github.com/nvie/gitflow/develop/contrib/gitflow-installer.sh
$> chmod +x gitflow-installer.sh
$> ./gitflow-installer.sh
```

## ⌨️ Git Flow Commands

```shell
$> git flow init
$> git push origin --all
$> git flow feature start <feature-branch>
$> git flow feature list
$> git add .
$> git commit -m
# push & pull-request(to review)
$> git flow feature finish <feature-branch>
$ other-feature> git merge --no-ff develop
$> git flow release start <tag>
$> git flow release finish <tag>
$> git tag
$> git push origin --all --follow-tags
$> git flow hotfix start <tag>
$> git flow hotfix finish <tag>
```

### ✅ Start gitflow

```shell
$> git flow init
```

- 로컬 저장소를 초기화한다.

### ✅ Upload all branch

```shell
$> git push orgin --all
```

- 생성한 브랜치를 서버에 업로드한다.

### ✅ Create feature branch

```shell
$> git flow feature start <feature-branch>
```

- feature branch 생성
- **ex)** git flow feature start feature-user-login

### ✅ Checking feature branch list

```shell
$> git flow feature list
```

- feature 브랜치 목록 확인.

### ✅ Add files

```shell
$> git add .
```

- git add를 통해 파일 추적을 시작한다.

### ✅ Commit files

```shell
$> git commit -m
```

- commit은 버전의 의미있는 변화를 등록하는 작업을 의미한다.

### ✅ Review code

```shell
$> git push & pull-request #(to-review)
```

### 💪 Success code review

```shell
$> git flow feature finish <feature-branch>
```

- 코드 리뷰가 완료되면 해당 명령어를 통해 feature branch를 종료한다.

### 👉 Others

```shell
$> git flow release start <tag> # release branch 생성
$> git flow release finish <tag> # release branch 종료
$> git tag # tag 생성
$> git push origin --all --follow-tags # Todo
$> git flow hotfix start <tag> # hotfix 생성
$> git flow hotfix finish <tag> # hotfix 종료
```

## 💻 실습

### ✅ Git Flow test script

<img src="https://user-images.githubusercontent.com/53969142/152673951-3e85fc37-c243-4fd7-be85-904a31243301.PNG" width="100%" height="100%">

1. <span style="color: red; font-weight:bold">2개 feature 시작</span> (**login**, **regist**)
2. login, regist 각각 코딩
3. login 작업 완료
4. login 코드 리뷰
5. login 릴리즈 & 배포 (0.1.0)
6. regist 작업 완료
7. regist 릴리즈 (0.2.0) -> QA, TEST
8. <span style="color: red; font-weight:bold">0.1.0에서 버그 발생!!</span> -> hotfix 시작
9. hotfix 0.1.1 작업 완료
10. hotfix 0.1.1 코드 리뷰
11. hotfix 0.1.1 배포 (0.1.1)
12. regist 릴리즈 마무리 & 배포 (0.2.0)

### 참고 자료

- [강의 슬라이드](https://docs.google.com/presentation/d/1ws2CpstUO2lBclFg-jCBOkxZQurmW4hACzP9zC3POW8/edit#slide=id.gc3a0784da1_0_0)
- [Git 실무 - Git Flow 개념 및 실제 사례](https://www.youtube.com/watch?v=VY8K9FguM-E&list=PLEOnZ6GeucBUvJYvTTnNalSFvYqVObVVH)
- [우아한형제들 기술블로그](https://techblog.woowahan.com/2553/)
- [Git Flow Repository](https://github.com/nvie/gitflow)
