---
layout: single
published: true
title:  "5.JSP기초다지기"
categories : Jsp
tag : Jsp
toc : true
toc_sticky: true
author_profile: true
sidebar :
    nav : "docs"
---



## JSP 지시어 

+ <% @지시어 속성값 %>

+ JSP 컨테이너에 해당 페이지를 어떻게 처리할 것인지 전달하는 내용 

+ 지시어에는 page, include, taglib이 있음

+ include 지시어 -> 다른 파일을 포함하기 위한 지시어 : 포함된 파일을 하나로 처리하며 자바 소스를 생성한 뒤 서블릿으로 컴파일 한다.

  <p style="color:red; font-size:0.8em">include 액션태그</p>

	  <p style="color:red; font-size:0.8em">
	  액션의 경우 지시어와 다르게 파일을 각각 실행한 '결과'를 포함하여 보여주는 구조
	  </p>

- taglib 지시어 -> 커스텀 태그를 사용하기 위한 지시어 



## 템플릿 데이터와 스트크립트 요소

- 자바는 HTML문서와 자바 코드를 섞어 사용할 수 있다. 이때 <자바 코드>를 '스크립트 요소'라고 함 

  1. <%!   %>

     * 선언 태그

     * JSP가 서블릿 코드로 변환 될 때 _jspService() 메서드 안에 들어가게 되므로 멤버 변수나 메서드 선언은 기본 적으로 불가능함(멤버 변수, 메서드 선언이 필요하다면 사용할 수 있으나 권장하지 않음)
     
  2. <%=  %>
     - 표현태그
     - out.println()의 인자로 적합한 모든 자바 코드(사칙 연산, 메서드 호출, 변숫값 출력)가 가능
     - EL로 대체 가능
     
  3. <% %>
  
     - 스크릿트릿 태그 
     - 모든 자바 코드의 사용이 가능하지만 _jspService()메서드 내에 포함되는 것은 고려해야함
     - 서블릿 코드로 변환 시 모든 HTML은 out.write() 형태로 변경됨
     - MVC 패턴 적용과 JSTL + EL로 대체 가능함
  
  
## JSP 액션 태그
 액션태그란 객체 생성과 공유, 페이지 이동과 전달, 태그 파일 작성 등에 필요한 기능을 제공해주는 일종의 커스텀태그이다. 주로 컨트롤러로 활용할 때 유용한다. 

+  주요 액션 태그

  | 액션 태그       | 설명                                                         |
  | --------------- | ------------------------------------------------------------ |
  | jsp:forword     | request와 response 객체를 포함해 다른 페이지로 포워드함      |
  | jsp:include     | 다른 페이지의 실행 결과를 포함시킴                           |
  | jsp:useBean     | 자바 빈즈 객체를 생성하거나 불러옴                           |
  | jsp:setProperty | 자바 빈즈 객체의 속성에 값을 할당함                          |
  | jsp:getProperty | 자바 빈즈 객체의 속성값을 출력함                             |
  | jsp:param       | include,forward 액션 태그 사용 시 파라미터값을 수정하거나 추가함 |



## 자바 빈

+ 자바의 재활용 가능한 <컴포넌트 모델>

+ POJO라는 단순한 구조를 가짐

  : POJO란? 기본 생성자와 멤버 변수에 대한 getter/setter 메서드를 제공하는 자바 클래스를 의미함 

+ <u>자바 빈의 구조</u>

  - 인자가 없는 생성자로 구성된다

  - 직렬화 구조(파일 혹은 네트워크를 통해 객체를 주고 받을 수 있는 구조)가 가능

  - getter,setter 메서드를 통해 멤버 변수에 접근 가능

## useBean 액션

+ 자바 빈 객체를 생성하거나 참조하기 위한 액션 

  ```
  <jsp:useBean id="instanceName" scope="page | request | session | aplication"
  	      class="packageName.className" type="packageName.className"
  	      beanName="packageName.className"
  </jsp:useBean>
  ```

  - id : 자바 빈을 특정 sope에 저장하거나 가져올 때 사용하는 이름, 해당 인스턴스를 참조하기 위한 변수명이 됨
  - sope : 해당 클래스 타입의 객체를 저장하거나 가지고 오는 범위로 내장객체의 일보
  - class : 생성하거나 참조하려는 객체의 클래스명. 추상클래스나 인터페이스는 사용할 수 없음
  - type : 특정 타입의 클래스를 명시할 때 사용함. 추상 클래스나 인터페이스, 일반 클래스 사용 가능하며  class 속성의 클래스에서 상속 혹은 구현이 이루어져야함 
  
  - beanName : type 과 beanName 사용을 통해 class속성을 대체할 수 있음 
  
+ HTML 폼에서 입력한 값을 자바 객체로 연동할 때 useBean을 주로 활용함 



## include, forward 액션

- 다른 jsp 파일을 현재 페이지에 포함하거나 전달하는 액션 

- < jsp:param > 을 통해 파라미터값을 수정하거나 추가하는 것이 가능하다

- forward 액션과 리디렉션의 차이점

  - 리디렉션 : 서버가 클라이언트에게 새로운 페이지로 다시 접속하도록 응답을 보내고  클라이언트가 응답을 받아 새로운 페이지로 접속

  - forward : 서버가 새로운 페이지로 이동하고 그 페이지의 내용을 클라이언트에게 전달하는 것. 

       - 최초 request를 유지하거나 속성 값을 저장한 후 유지하면서 페이지를 이동하기 위해 사용 
       - < jsp:param > 사용 가능

    

    
