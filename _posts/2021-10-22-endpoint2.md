---
layout: single
tags: 
 - REST

toc: true
toc_sticky: true

title: "[project] KREAM 클론 엔드포인트 정리"
---

{% raw %}


## POST /orders/bidding/{int:product_id}/{int:position_id} (입찰 생성)

position_id : 1(BUY),  2(SELL)

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰

**Body key list**

size_id(필수) : 1(230), 2(240), 3(250), 4(260), 5(270), 6(280), 7(290), 8(300)

price(필수)



예시 : /orders/bidding/2/2

```json
{
    "size_id"   : "6",
    "price" : "400000"
}
```

응답 :

```json
{
    "message": "SUCCESS"
}
```



## GET /orders/bidding/{int:product_id}/{int:position_id} {사이즈별 입찰 조회}

position_id : 1(BUY),  2(SELL) - 구매자가 조회시 판매입찰 정보를 조회해야하기 때문에 position_id 2번으로 요청해야함



예시 :

```
/orders/bidding/2/1
```

응답 :

```json
{
    "bidding_list": [
        {
            "size_id": 1,
            "size": 230,
            "bidding_id": 1324,
            "bidding_price": 400000
        },
        {
            "size_id": 2,
            "size": 240,
            "bidding_id": 184,
            "bidding_price": 320000
        },
        {
            "size_id": 3,
            "size": 250,
            "bidding_id": 1635,
            "bidding_price": 375000
        },
        {
            "size_id": 4,
            "size": 260,
            "bidding_id": 983,
            "bidding_price": 375000
        },
        {
            "size_id": 5,
            "size": 270,
            "bidding_id": 99,
            "bidding_price": 280000
        },
        {
            "size_id": 6,
            "size": 280,
            "bidding_id": 3014,
            "bidding_price": 400000
        },
        {
            "size_id": 7,
            "size": 290,
            "bidding_id": 361,
            "bidding_price": 280000
        },
        {
            "size_id": 8,
            "size": 300,
            "bidding_id": 489,
            "bidding_price": 400000
        }
    ]
}
```



## POST /orders (주문)

**로그인 유저만 가능**

**header**

Authorization : 로그인 토큰

**Body key list**

bidding_id (필수)



예시 : /orders

```json
{
    "bidding_id" : "2999"
}
```

응답 :

```json
{
    "message": "SUCCESS"
}
```



## GET /orders/{int:product_id} (시세 조회)

**Query parameter list**

- 그래프 데이터는 size_id, period만 적용, 정렬은 오래된 순

1. size_id =  1(230), 2(240), 3(250), 4(260), 5(270), 6(280), 7(290), 8(300)
2. period =  1m(그래프 한달내역), 3m(그래프 3개월 내역), 6m(그래프 6개월 내역), 1y(그래프 1년 내역) - 기본은 1m
3. sort = low_pirce(낮은 가격순), high_price(높은 가격순), low_size(낮은 사이즈순), high_price(높은 사이즈순), recent(최신순) - 체결거래 내역의 초기 정렬은 최신순, 판매 입찰 내역의 초기 정렬은 낮은 가격순, 구매 입찰 내역의 초기 정렬은 높은 가격 순
4. limit = 기본 값 5
5. offset = 기본 값 0



예시 :

```
/orders/2
```

응답 :

```json
{
    "order_graph_data": [
        {
            "id": 969,
            "price": 134000,
            "created_at": "2021-09-23"
        },
        {
            "id": 248,
            "price": 200000,
            "created_at": "2021-09-25"
        },
        {
            "id": 581,
            "price": 150000,
            "created_at": "2021-09-29"
        },
        {
            "id": 489,
            "price": 400000,
            "created_at": "2021-09-29"
        },
        {
            "id": 51,
            "price": 180000,
            "created_at": "2021-09-30"
        },
        {
            "id": 623,
            "price": 400000,
            "created_at": "2021-10-05"
        },
        {
            "id": 72,
            "price": 180000,
            "created_at": "2021-10-05"
        }
    ],
    "order_list": [
        {
            "id": 72,
            "price": 180000,
            "size": 280,
            "created_at": "2021-10-05"
        },
        {
            "id": 623,
            "price": 400000,
            "size": 270,
            "created_at": "2021-10-05"
        },
        {
            "id": 51,
            "price": 180000,
            "size": 250,
            "created_at": "2021-09-30"
        },
        {
            "id": 489,
            "price": 400000,
            "size": 300,
            "created_at": "2021-09-29"
        },
        {
            "id": 581,
            "price": 150000,
            "size": 260,
            "created_at": "2021-09-29"
        }
    ],
    "sell_bidding_list": [
        {
            "price": 80000,
            "size": 290,
            "count": 1
        },
        {
            "price": 130000,
            "size": 280,
            "count": 2
        },
        {
            "price": 130000,
            "size": 300,
            "count": 1
        },
        {
            "price": 185000,
            "size": 250,
            "count": 1
        },
        {
            "price": 185000,
            "size": 260,
            "count": 1
        }
    ],
    "buy_bidding_list": [
        {
            "price": 400000,
            "size": 230,
            "count": 1
        },
        {
            "price": 400000,
            "size": 280,
            "count": 2
        },
        {
            "price": 375000,
            "size": 250,
            "count": 1
        },
        {
            "price": 375000,
            "size": 260,
            "count": 2
        },
        {
            "price": 375000,
            "size": 300,
            "count": 1
        }
    ]
}
```


{% endraw %}
