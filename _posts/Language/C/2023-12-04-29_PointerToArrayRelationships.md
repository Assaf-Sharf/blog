---
layout: single
title: Chapter 29 포인터와 배열의 관계
date: 2023-12-04 18:53:52 +09:00
categories:
  - Language
tags:
  - C
excerpt: 포인터와 배열의 관계에 관한 글입니다.
toc: true
---

# 1 포인터와 배열의 관계

>포인터와 배열은 매우 긴밀한 관계를 맺고 있으며, 어떤 부분에서는 서로를 대체할 수도 있다.

>배열의 이름은 그 값을 변경할 수 없는 상수라는 점을 제외하면 포인터와 같다.             
>따라서 배열의 이름은 포인터 상수(constant pointer)이다.

- 포인터 상수(constant pointer)

>포인터 상수(constant pointer)란 포인터 변수가 가리키고 있는 주소 값을 변경할 수 없는 포인터를 의미한다.

- 상수 포인터(pointer to constant)

>상수 포인터(pointer to constant)란 상수를 가르키는 포인터를 의미한다.

- 예제 

```c
int arr[3] = {10, 20, 30}; // 배열 선언
int* ptr_arr = arr;        // 포인터에 배열의 이름을 대입함  

printf("배열의 이름을 이용하여 배열 요소에 접근 : %d %d %d\n", arr[0], arr[1], arr[2]);
printf("     포인터를 이용하여 배열 요소에 접근 : %d %d %d\n", ptr_arr[0], ptr_arr[1], ptr_arr[2]);  
printf("배열의 이름을 이용한 배열의 크기 계산 : %d\n", sizeof(arr));
printf("     포인터를 이용한 배열의 크기 계산 : %d\n", sizeof(ptr_arr));
```

- 실행결과 

```c
배열의 이름을 이용하여 배열 요소에 접근 : 10 20 30
     포인터를 이용하여 배열 요소에 접근 : 10 20 30
배열의 이름을 이용한 배열의 크기 계산 : 12
     포인터를 이용한 배열의 크기 계산 : 8
```

>위의 예제에서는 포인터에 이름을 대입한 후, 해당 포인터를 배열의 이름처럼 사용한다.             
>이처럼 C 언어에서는 배열의 이름을 포인터처럼 사용할 수 있을 뿐만 아니라,                     
>포인터를 배열의 이름처럼 사용할 수도 있다.

>하지만 배열의 크기를 계산할 때에는 배열의 이름과 포인터 사이에 차이가 발생한다.                 
>배열의 이름을 이용한 크기 계산에서는          
>배열의 크기가 int형 배열 요소 3개의 크기인 12바이트로 제대로 출력된다.           
>하지만 포인터를 이용한 크기 계산에서는 배열의 크기가 아닌          
>포인터 변수 자체의 크기가 출력되는 차이가 있다. 

# 2 배열의 포인터 연산

>다음 예제는 배열의 이름을 포인터처럼 사용하는 예제이다.              
>배열의 이름으로 포인터 연산을 수행하여 각각의 배열 요소에 접근한다. 

- 예제

```c
int arr[3] = {10, 20, 30}; // 배열 선언  
printf("          배열의 이름을 이용하여 배열 요소에 접근 : %d %d %d\n", arr[0], arr[1], arr[2]);
printf("배열의 이름으로 포인터 연산을 해 배열 요소에 접근 : %d %d %d\n", *(arr+0), *(arr+1), *(arr+2));
```

- 실행 결과

```c
          배열의 이름을 이용하여 배열 요소에 접근 : 10 20 30
배열의 이름으로 포인터 연산을 해 배열 요소에 접근 : 10 20 30
```

![image](https://github.com/EunChong999/EunChong999/assets/136239807/e445ea69-dbb2-47ae-8e4e-43079dcae800)

>따라서 배열의 이름과 포인터 사이에는 다음과 같은 공식이 성립한다.

- 공식

```c
arr이 배열의 이름이거나 포인터이고 n이 정수일 때,
arr[n] == *(arr + n)
```

>위의 공식은 1차원 배열뿐만 아니라 다차원 배열에서도 언제나 성립한다.       

>배열의 관계된 연산을 할 때는 언제나             
>배열의 크기를 넘어서는 접근을 하지 않도록 주의해야 한다.              
>포인터 연산을 이용하여 계산하다가 배열의 크기를 넘어서는 접근을 하는 경우,               
>C 컴파일러는 어떠한 오류도 발생시키지 않는다.             
>다만 잘못된 결과만을 반환하므로          
>C 언어로 프로그래밍할 때에는 언제나 배열의 크기에도 주의해야 한다. 