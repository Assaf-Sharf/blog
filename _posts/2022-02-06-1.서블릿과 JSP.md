---
layout: single
published: true
title:  "1.서블릿과 JSP"
categories : Jsp
tag : ["java","servlet"]
toc : true
toc_sticky: true
author_profile: true
sidebar :
    nav : "docs"
---
**[공지사항]** 첫 포스팅이다!! 서블릿와 JSP 기본 개념에 대해서! 
{: .notice--danger} 


## 서블릿과 JSP의 전체적인 개요



### 서블릿

1. 서블릿이란 ?
   - 서블릿이란 자바 기반의 웹 프로그램 개발 위해 만들어진 기술이다. 
   
     1- 서블릿은 톰캣과 같은 서버 소프트웨어인 서블릿 컨테이너에 의해 실행되고 관리 된다.
   
     2- 이러한 서버 소프트웨어는 WAS(Web Application Server)라고도 불린다.

2. 웹 요청과 응답 과정 

   - 웹의 요청과 응답은 클라이언트가 서버에게 페이지(index.html)을 요청하면 요청 받은 서버는 클라이언트에게 요청받은 html 파일을 응답한다. 서버에게 응답받은 클라이언트는 html의 내용을 해석하여 화면에 띄운다. 

     <hr>

     html은 정적인 파일이므로 동적인 데이터 정보(예: 아이디, 비밀번호, 게시물 등)를 가져올 수 없다.

     이러한 데이터 정보들을 가져오기 위해서는 *별도의 프로그램(서블릿)*을 통해 데이터베이스에서  정보를 가지고 온다. 이 정보를 html로 재구성하여 클라이언트에게 응답한다.

     <hr>

     <p style="color:red">즉 서블릿은 서버로부터 호출되어 실행되면 데이터베이스와 연동하여 파라미터로 전달된 값을 처리하고 html과 데이터를 조합하여 클라이언트로 전달하는 기능을 수행할 수 있도록 설계된 자바 프로그램이다.</p>

3. 서블릿의 예

   ```
   out.println("<h2>"+username+"</h2>")
   ```

   - 서블릿은 html 코드 구성을 위와 같이 자바 언어로 작성해야하기에 매우 비효율적이다.

   - 이러한 문제를 해결하기 위해 <u>JSP</u>가 등장함



   

### JSP

1. jsp란?

   - jsp란 _서블릿에서 html과 데이터 결합을 손쉽게 처리_ 하기 위해 만들어졌다. 

   - 서블릿은 자바 코드에 html코드를 결합, jsp는 html 코드 안에 자바 코드를 더한 형태이다.

   - jsp가 컴파일 될 때는 서블릿 컨테이너(톰캣)에 의해  _서블릿 형태_ 의 자바 코드로 변환 후 컨테이너에 적재된다.

     <hr>

      <p style="color:red">즉 jsp는 서블릿 기능을 쉽게 사용하기 위해서 만들어졌으며 궁극적으로 서블릿 형태의 프로그램으로 전환된다.</p>

2. jsp 코드 예
   ```
   <html>
   <h2><%= username %></h2>
   </html>
   ```

​    

3. jsp 의 문제점

   - 데이터를 반복해서 출력해야할 경우 단순한 html 문법으로는 처리 할 수 없기 때문에 중간 중간 자바코드를 사용해야한다. 

     ```
     <%for(Member m : mlist ) { %>
     		<tr>
     			<td><%= m.name %></td>
     			<td><%= m.email %></td>
     		</tr>
     <% }%>
     ```

     for문 안에서 html과 데이터를 조합하려면 서블릿과 마찬가지로 'out.println()' 구문을 사용해야하기 때문에 중간에 스크립트를 닫아야한다.  --> _가독성이 매우 떨어짐_



### JSTL/EL

1. JSTL/EL 이란? 

   - JSP의 구조적인 문제를 해결하기 위한 커스텀 태그를 기반으로 하는 것

   - JSTL : JSP Standard Tag Library(태그 라이브러리)

   - EL : Expression Language(표현 언어)

   

2. JSTL 예

   ```
   <c:forEach var="m" items="${mlist}">
   		<tr>
   			<td>${m.name}</td>
   			<td>${m.email}</td>
   		</tr>
   </c:forEach>
   ```

   - < c:forEach >는 반복문을 제공하는 커스텀태그
   
   - ${       }형태는 표현언어로 자바 객체의 멤버 출력이 가능   
   
     
   
3. JSTL의 단점

   - 커스텀 태그 , 표현언어 또한 톰캣과 같은 서블릿 컨테이너를 통해 해석 되기 때문에
   
      사소한  디자인 변경도 서버를 통해야 한다.
   
   - 이는 협업에 문제가 됨
   



### JSP 대체 솔루션 

1. 스프링프레임 워크, Vue.js


2. 스프링 프레임워크의 타임리프 사용 예

   - JSTL 커스텀태그 대신에 HTML태그에 data-*- 속성을 사용함

   - 서버 실행 없이 디자인 확인이 가능함
   
   - ```
     <table>
       <tr data-th-each = "m : ${mlist}">
       	<td data-th-text = "${m.name}" >Hong</td>
       	<td data-th-text = "${m.email}">text@test.com</td>
       </tr>
     </table>
     ```
   
     



   

   

   

   

   

   