---
layout: single
title:  "퀵 테이블 계산 - 1(누계,차이,비율 차이,구성 비율)"
categories: Tableau
tag: [Tableau]
toc: true
---

## (1) 누계(Running Total)

**누계**는 값을 누적해서 보게 된다.
<br>

측정값의 [매출]필드를 더블 클릭해서 행선반에 올리고, 차원에 있는 [주문 일자]필드를 우클릭을 누른채 초록색 연속형[월(주문 일자)]를 선택해준다.
행선반에 있는 [합계(매출)]을 우클릭 후 퀵 테이블 계산에서 '누계'를 선택하면 매출 합계가 누적 라인 그래프로 표시가 된다. 그러면 아래와 같이 매출 합계가 누적 라인 그래프로 표시된다. 

![image](https://user-images.githubusercontent.com/100071667/225795968-8b463404-5f14-40e4-bcbc-2343bc6a3d52.png)

각 월에 대한 누적이 아닌 매출 합계를 이중 축으로 표현하기 위해서는 측정값에 있는 [매출]을 드래그해서 뷰의 우측 끝에 점선이 생겼을 때 놓으면 매출 합계에 대한 누적 그래프와 이중 축이 만들어진다.

![image](https://user-images.githubusercontent.com/100071667/225796607-0c7b793c-97a1-4a85-b9d5-29eb0925072d.png)

## (2) 차이(Difference)

**차이**는 기본적으로 측정값이 앞의 항목과 어느 정도 차이가 나는지를 구하는 것이다.
<br>

측정값의 [매출]필드를 더블 클릭해서 행선반에 올리고, 차원에 있는 [주문 일자]필드를 우클릭을 누른채 초록색 연속형[분기(주문 일자)]를 선택해준다.
마크는 <막대>로 변경해준다.

![image](https://user-images.githubusercontent.com/100071667/225797398-335dd6cb-d400-40ca-91e1-f8cdb0e4cf78.png)

행선반에 있는 [합계(매출)]을 우클릭 후 퀵 테이블 계산에서 '차이'를 선택하면 이전 분기와의 차이가 막대 그래프로 표시된다.

![image](https://user-images.githubusercontent.com/100071667/225797487-64ca2f6a-3012-4493-a1d4-1fa8afda094c.png)

[합계(매출)]에 대한 차이를 색상으로도 나타내기 위해, 행선반에 있는 [합계(수익)]필드를 ctrl 키를 누를 채 <색상> 마크에 넣어준다. 빨간색이 진할수록 이전 분기에 비해 마이너스 매출을, 파란색이 진할수록 플러스 매출을 냈다는 것을 의미한다. 

![image](https://user-images.githubusercontent.com/100071667/225797743-8ed2ad79-a3c3-4509-b652-574aceda52b6.png)

## (3) 비율 차이(Percent Difference)

'차이'는 측정값에 대한 단순 차이인 데 반해, **비율 차이**는 측정값들 사이의 성장률 또는 비교 대상인 측정값들 간의 %차이로 보면 된다.
<br>

측정값의 [수익]필드를 더블 클릭해서 행선반에 올리고, 차원에 있는 [주문 일자]필드를 우클릭을 누른채 초록색 연속형[분기(주문 일자)]를 선택해준다.
행선반에 있는 [합계(수익)]을 우클릭 후 퀵 테이블 계산에서 '비율 차이'를 선택하면 수익의 합계에 대한 이전 분기와의 비율 차이가 라인 그래프로 표시된다.

![image](https://user-images.githubusercontent.com/100071667/225798187-842ffc97-4bba-4018-ba07-953e4d9f3570.png)

마크를 <라인(자동)> 대신 <막대>로 변경해주고 행선반에 있는 [합계(수익)]필드를 ctrl 키를 누를 채 <색상> 마크에 넣어준다. 전분기 대비 플러스 성장했으면 파란색 계열의 색상이, 마이너스 성장을 했으면 주황색 계열 색상이 배치된다. 위와 같이 [합계(수익)]필드를 ctrl 키를 누를 채 <레이블> 마크에 올리면 전분기 대비 수익 성장률을 표시할 수 있다.

![image](https://user-images.githubusercontent.com/100071667/225798473-63316524-9d39-4a2d-acf8-b3cd89dff187.png)

## (4) 구성 비율(Percent of Total)

차원에 있는 [제품 대분류]를 더블 클릭해 행 선반에 올리고 [제품 중분류]는 [제품 대분류] 뒤에 위치시킨다. 측정값에 있는 [매출]을 더블 클릭하면 제품 대분류&제품 중분류별 매출 합계가 표시된다.
마크에 [합계(매출)]을 우클릭 후 '구성 비율'을 선택하면 제품 중분류별 구성 비율을 구할 수 있다.

![image](https://user-images.githubusercontent.com/100071667/225799305-e6a7a308-a3eb-417a-a28d-78a600a21ac5.png)

각 제품 중분류를 기준으로 각 중분류의 매출 비율의 합이 100%가 되도록 하기 위해서는 3가지 정도의 방법이 있다.

1. 마크에 있는 [합계(매출)]을 우클릭 후 '다음을 사용하여 계산'에서 '패널(아래로)'를 선택하여 각 패널별로 계산할 수 있다.

![image](https://user-images.githubusercontent.com/100071667/225800413-cc467ab0-f29c-4a90-b022-f3f82f042845.png)

2. 마크에 있는 [합계(매출)]을 우클릭 후 '테이블 계산 편집'에서 '패널(아래로)'를 선택할 수도 있다.

![image](https://user-images.githubusercontent.com/100071667/225800737-17297f96-3338-41f8-be3b-f2fe0f938d3e.png)

3. 마크에 있는 [합계(매출)]을 우클릭 후 '테이블 계산 편집'에서 '특정 차원'에서 '제품 중분류'만 선택할 수도 있다.

![image](https://user-images.githubusercontent.com/100071667/225800936-256115d2-4ad4-4edd-9b6e-adfa17ed3b50.png)