---
layout: single
title:  "그룹과 집합 차이"
categories: Tableau
tag: [Tableau]
toc: true
---

## 그룹과 집합 차이

그룹은 항목 내 멤버들을 묶어주는 것이고, 집합은 집합에 포함되는지 아닌지로 나누는 것이 큰 차이이다. 즉 그룹은 항목들을 여러 그룹으로 묶을 수 있지만 집합은 집합에 포함되는지 아닌지으로만 구분이 된다.

## 그룹과 집합 차이 만들기

### 그룹

측정값에 있는 [매출]을 더블 클릭하여 행선반에 올려준다. 차원에 있는 [주문 일자]필드를 마우스 우클릭을 통해 초록색 연속형[분기(주문 일자)]를 선택해준다. 마크를 '영역'으로 변경해준다.
[시도]필드를 기준으로 그룹을 만들기 위해 차원에 있는 [시도]필드를 우클릭 후 '경기도','서울특별시','인천광역시'를 선택하고 '그룹'버튼을 선택해준다. 이 세개의 그룹의 이름은 '수도권'이라고 하고 나머지는 '기타'포함을 체크하면 '수도권'그룹 외 나머지 14개 시도는 '기타'그룹으로 된다. 

![image](https://user-images.githubusercontent.com/100071667/225521697-51033f9d-b782-4d86-8043-cec91a55de80.png)

각 분기별 수도권 vs 기타 지역의 매출에 대한 비중을 퀵 테이블 계산으로 구하기 위해 행 선반에 있는 합계(매출)을 우클릭 후 퀵 테이블 계산에서 구성 비율을 선택해준다. 그 다음 퀵 테이블 계산 편집을 선택하고 특정 차원에서 공통된 기준인 '주문 일자분기'를 체크 해제 후 '시도(그룹)'로만 구분하면, 각 분기별 수도권 vs 기타의 매출의 구성 비율을 볼 수 있다.

![image](https://user-images.githubusercontent.com/100071667/225522463-3318b615-ea62-44ea-aaf4-a9ae7a27d1b9.png)

### 집합

그룹은 여러 개를 만들 수 있지만 집합은 집합에 포함되면 in, 포함되지 않으면 out으로만 구분된다. 
고객명 필드를 매출 합계를 기준으로 상위 10명과 상위 20명 집합을 만들고 이 둘을 기준으로 상위 11위 ~ 20위 사이에 있는 고객명을 따로 관리할 수 있게 집합을 만들어 보겠다.

<br>

[고객명]필드를 행선반에 측정값에 있는 [매출]을 테이블 안에 각 고객명 기준으로 합계(매출)형태로 만들어준다. 테이블 위에 있는 '고객명'이라는 필드 레이블에 마우스 오버를 하고 필드>'합계(매출)'로 선택하면 매출 합계 기준으로 고객명이 내림차순 정렬된다.

그 다음 매출 상위 10명 집합을 만들어 보기 위해 차원에 [고객명] 우클릭 만들기 집합을 선택한다. 그리고 아래 사진과 같이 진행해준다. 

![image](https://user-images.githubusercontent.com/100071667/225523113-b1701b4d-d923-4272-a2c4-47fe3be3fcd4.png)

'매출 상위 10명' 집합을 우클릭 후 '복제'를 선택하면 복제본이 생기는데 '집합 편집'을 선택하고 집합의 이름을 '매출 상위 20명'으로 해주고 필드 기준에 있는 10 대신 20을 입력한 후 확인 버튼을 눌러준다. 

![image](https://user-images.githubusercontent.com/100071667/225524069-eb1e59b5-f1fc-4b00-a803-53590252f7ef.png)

'매출 상위 10명'집합을 행 선반의 [고객명]뒤에 올리면 상위 10명의 고객들은 IN으로 나머지는 OUT으로 표시가 된다. 즉 집합의 조건에 만족하면 IN, 아니면 OUT으로 구분된다.

![image](https://user-images.githubusercontent.com/100071667/225524297-253ac0de-a7e8-44df-986b-2adfa22566f3.png)

상위 11-20명을 만들기 위해서는 [매출 상위 10명]을 선택한 다음 [매출 상위 20명]을 선택해준다. 그리고 마우스 오른쪽 버튼을 눌러 '결합된 집합 만들기'를 선택해주고 이름을 '매출 상위 11-20위'로 설정해준다. 집합의 범위를 '공유 멤버를 제외한 "매출 상위 20명"을 선택하면 두 집합의 공통된 값인 11~20위까지인 고객들만 하나의 집합으로 만들어진다.

![image](https://user-images.githubusercontent.com/100071667/225524573-459db6de-f6de-4053-9b8c-1161e174a9a0.png)

행선반에 잇는 [매출 상위 10명]과 [매출 상위 20명]을 제거하고 [매출 상위 11-20위]는 필터 선반에 올려서 'IN'을 선택하면 상위 11-20위에 속한 10명의 고객 리스트만 남게 된다.


![image](https://user-images.githubusercontent.com/100071667/225525003-de84e902-c09b-4ffb-869e-32a5966a89b4.png)

![image](https://user-images.githubusercontent.com/100071667/225525026-3218845b-ab42-4203-8f3d-ef98be9b3085.png)
