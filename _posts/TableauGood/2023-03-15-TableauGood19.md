---
layout: single
title:  "지리적 역할 부여하기"
categories: Tableau
tag: [Tableau]
toc: true
---

## 지리적 역할 

Tableau에서는 맵 형태로 데이터를 표현할 수 있다. 우리나라 지리 정보가 있다면 기본적으로는 시도와 시군구명만 있더라도 태블로에서 맵 형태로 표현이 가능하다. 그 외에 읍면동까지 나타내고 싶다면 별도의 공간 파일(shp파일)과 조인해서 표현 가능하다.
그 밖에도 위도와 경도만 있더라도 맵에서 표현 가능하다.

## 지리적 역할 부여하기

좌측 사이드 바에 있는 필드 중 [국가] 필드는 abc문자열 형태이다. abc유형을 선택하여 지리적 역할에서 '국가/지역'을 선택해준다. 그러면 필드의 유형이 지구본 모양으로 바뀌면서 맵 형태로 표시된다. 또 측정값에는 원래 없던 '경도(생성됨)'와 '위도(생성됨)'이 나타난다. 이유는 태블로에서는 전 세계의 공항 코드, 도시, 국가, 지역, 영토, 주, 시/도 및 일부 우편 번호와 2차 행정 구역(군에 해당하는 항목)을 구분하기 때문이다.

![image](https://user-images.githubusercontent.com/100071667/225195287-5ffe8594-ebcd-438b-a357-81f816907075.png)

[시도]는 지리적 역할에서 '시/도'를 선택하고 [시군구]는 지리적 역할에서 '시군구'를 선택해준다. 그러면 총 229개의 시군구 기준으로 마크가 찍히게 된다.

![image](https://user-images.githubusercontent.com/100071667/225195827-11e158f5-8c0e-4195-8553-e865fac13511.png)

시군구에서 중복되는 명칭때문에 Null값이 생긴다. 시트를 지운 후 [시군구]필드만 지도에 표시하면 우측 하단에 *'7개의 알 수 없는 항목'*이 나타난다. 이를 클릭하면 *'알 수 없는 지리적 위치를 포함하는 값이 7개가 있다'*고 뜬다.

![image](https://user-images.githubusercontent.com/100071667/225196423-8f99220e-0b9d-41d9-9017-d00906fa775d.png)

하위 개념인 [시군구]필드를 드래그해서 상위 필드인 [시도]위에 올려준다. 그러면 '계층 만들기' 대화 상자가 나타나는데 이 계층의 이름을 '지도'라고 설정해준다. 다시 시트를 지운 후 [시군구]필드를 맵 위에 나타내면 총229개 마크가 맵 위에 표현된다.

![image](https://user-images.githubusercontent.com/100071667/225197346-106e6f5e-4622-48ae-ac38-6bed844dafaa.png)

마지막으로 [지역]필드를 지리적 역할>만들기 원본>시도를 선택하면, 시도의 **상위의 지리적 역할**을 부여 받는다. 그 후 지도 계층의 시도와 국가 사이에 넣어주고 시트에 표시해준다.

![image](https://user-images.githubusercontent.com/100071667/225198152-eb493719-26b1-4799-87e9-08fe4cd18ee9.png)
