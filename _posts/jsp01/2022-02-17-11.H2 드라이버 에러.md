---
layout: single
published: true
title:  "11.H2 드라이버 에러"
categories : Jsp
tag : ["java","jsp","DATABASE"]
toc : true
toc_sticky: true
author_profile: true
sidebar :
    nav : "docs"
---

## java.lang.classnotfoundexception: org.h2.driver



<br>

MVC 패턴과 데이터베이스를 공부하는 도중,  java.lang.classnotfoundexception: org.h2.driver 에러가 뜨면서 페이지 구동이 안됐다. 드라이버도 Maven에 잘 복사해서 넣어줬는데 뭐가 문제지...? 데이터베이스 URL을 잘못 넣어줬나? 데이터베이스 클래스 이름도 잘못 넣어줬나..? 그것도 아님..

- H2 드라이버 클래스 이름 :  Class.forName("org.h2.Driver");

- H2 URL : jdbc:하위 프로토콜:데이터 원본 식별자식으로 되어있음 

  <br>

1.버전확인하기

- Maven으로 설정해놨으므로 pom.xml에서 com.h2database 버전을 확인한다. 

  pom.xml 에서는 1.4.200 버전으로 되어있다. 
  
- H2 데이터베이스 콘솔창에서 H2 버전을 확인한다. 

   sql문 : SELECT H2VERSION() FROM DUAL

  ![](https://user-images.githubusercontent.com/68511112/154522544-8e3c0402-70db-45df-8a69-3edac1e99b9a.jpg)





H2버전은 2.0.206으로 나온다. 버전이 다르다면 pom.xml에서 버전에 맞게 수정해준다.



<p style="color:Red; font-size:0.8em">그런데 여전히 java.lang.classnotfoundexception: org.h2.driver ^^   </p>

<br>

2.드라이버가 정상적으로 설치 되었는지 확인해보기.

- [Java Resources] -> [Libraries] -> [Maven Dependencies]에 'h2-2.0.206.jar'이 추가되어있으면 정상적으로 등록된 것. 

- 그럼에도 실행이 안된다면 [프로젝트 파일 오른쪽 클릭] -> [Maven] -> [Update Project] 클릭

<p style="color:Red; font-size:0.8em">등록이 잘 되었음에도 드라이버를 찾을 수 없다고 한다..
    문제는 pom.xml에  스코프가 test 로 설정되어있었다.테스트시에만 사용할 수 있게만 되어있나보다. </p> 

3.< scope > test < /scope > 지우기

- mv리포지터리 사이트에서도  코드에 초기 설정이 그렇게 되어있다. 

  < scope >test< /scope> 지우니 잘 돌아감.. 

![h2_error](https://user-images.githubusercontent.com/68511112/154526972-e153411e-83a2-4505-9d2c-b8e96d55fe0a.jpg)



   







