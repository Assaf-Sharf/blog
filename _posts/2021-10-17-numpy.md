---
layout: single
title:  "numpy 스터디"
categories: study
tag: [numpy]
toc_label: "Contents"
toc: true
toc_sticky: true
---



# Numpy 스터디 -1

* Mumerical Python(Numpy) 파이썬에서 선형대수 기반의 프로그램을 쉽게 만들 수 있도록 하는 패키지
* 루프를 사용하지 않고 대량 데이터의 배열 연산을 가능하게 해 빠른 배열 연산 속도를 보장
* 파이썬 언어 자체가 가지고 있는 수행 성능의 제약이 있으므로  수행 서능에 매우 중요한 부분은 C/C++기반의 코드로 작성하고 이를 넘파이에서 호출하는 방식


```python
# Numpy 라이브러리 로드
import numpy as np
```

* Numpy 기반 데이터 타입은 ndarray. 이를 활용해 다차원 배열을 쉽게 생성하고 다양한 연산을 수행할 수 있음.



## ndarray의 차원


```python
# ndarray의 차원 배열
array1 = np.array([1, 2, 3])
array2 = np.array([[1, 2, 3], [2, 3, 4]])
array3 = np.array([[1,2,3]])

print('array1 : {:0}차원, array2 : {:1}차원, array3 : {:2}차원'.format(array1.ndim, array2.ndim, array3.ndim))
```

    array1 : 1차원, array2 : 2차원, array3 :  2차원


* array1 은 3개의 데이터를 가지고 있음
* array2 은 2개의 로우와, 3개의 컬럼으로 구성된 6개의 데이터를 가지고 있음
* array3 은 1개의 로우와, 3개의 컬럼으로 구성된 3개의 데이터를 가지고 있음



## ndarray 데이터 타입

* ndarray의 데이터는 숫자값, 문자열값, 불값 모두 가능
* int형(8bit, 16bit, 32bit)
* unsigned int형(8bit, 16bit, 32bit)
* float형(16bit, 32bit, 64bit, 128bit)
* complex형 타입도 제공



### 하나의 데이터에 여러 타입의 데이터가 있는 경우

* ndarray 데이터 타입은 연산의 특성상 같은 데이터 타입만 가능
* 다른 데이터 유형이 섞여 있는 리스트를 ndarray로 변환하면 데이터 크기가 더 큰 데이터 타입으로 형 변환을 일괄 적용!!


```python
list2 = [1, 2, 'test']
array2 = np.array(list2)
print(array2, array2.dtype)
# int형  값이 유니코드형 문자형으로 변환
```

    ['1' '2' 'test'] <U11



### astype() 매서드를 이용한 타입 변경

* 머신러닝 알고리즘은 대부분 데이터를 전체 로딩한 다음 이를 기반으로 알고리즘을 적용하기 때문에 메모리 절약이 매우 중요!!


```python
array_int = np.array([1, 2, 3])
array_float = array_int.astype('float64')
print(array_float, array_float.dtype)
```

    [1. 2. 3.] float64



## Numpy 편리하게 생성하기 - arange, zeros, ones

* 주로 테스트용 데이터를 만들거나 대규모 데이터를 일괄적으로 초기화해야 할 경우 사용
* dtype을 설정해주지 않으면 default 값으로 float64형의 ndarray를 만듬


```python
sequence_array = np.arange(10)
print(sequence_array)
print(sequence_array.dtype, sequence_array.shape)
# int형의 1차원 ndarray를 만들어 줌
```

    [0 1 2 3 4 5 6 7 8 9]
    int32 (10,)



```python
zero_array = np.zeros((3, 2), dtype='int32')
print(zero_array)
print(zero_array.dtype, zero_array.shape)
# int형의 3개의 로우와 2개의 컬럼을 가진 2차원 ndarray를 만들어 줌
```

    [[0 0]
     [0 0]
     [0 0]]
    int32 (3, 2)



```python
one_array = np.ones((3,2))
print(one_array)
print(one_array.dtype, one_array.shape)
# float형의 3개의 로우와 2개의 컬럼을 가진 2차원 ndarray를 만들어 줌
```

    [[1. 1.]
     [1. 1.]
     [1. 1.]]
    float64 (3, 2)



##  ndarray의 차원과 크기를 변경하는 reshape()

* ndarray를 특정 차원 및 크기로 변환


```python
array1 = np.arange(10)
print('array1 : \n', array1)

array2 = array1.reshape(2, 5)
print('array2 : \n', array2)

array3 = array1.reshape(5, 2)
print('array3 : \n', array3)
```

    array1 : 
     [0 1 2 3 4 5 6 7 8 9]
    array2 : 
     [[0 1 2 3 4]
     [5 6 7 8 9]]
    array3 : 
     [[0 1]
     [2 3]
     [4 5]
     [6 7]
     [8 9]]



```python
# 지정된 사이즈로 변경할 수 없으면 오류가 발생
# array1.reshape(4, 3)
```

* -1 인자를 적용하는 경우 원래 ndarray와 호환되는 새로운 shape로 변환해줌(실전에서 더 효과적으로 사용할 수 있음


```python
array4 = array1.reshape(-1, 5)
print('array4 : \n', array4)

array5 = array1.reshape(5, -1)
print('array5 : \n', array5)
```

    array4 : 
     [[0 1 2 3 4]
     [5 6 7 8 9]]
    array5 : 
     [[0 1]
     [2 3]
     [4 5]
     [6 7]
     [8 9]]



```python
# 10개의 데이터로 4개의 컬럼을 가진 데이터 형태로 전환할 수 없기 때문에 오류 발생
# array6 = array1.reshape(-1, 4)
# print('array6 : \n', array6)
```


```python
# reshape(-1, 1) : 원본 ndarray가 어떤 형태라도 2차원이고, 여러 개의 로우를 가지되 반드시 한개의 컬럼을 가진 형태로 변환을 보장
array1 = np.arange(8)
array3d = array1.reshape(2, 2, 2)
print('array3d :\n', array3d.tolist())

array2d = array3d.reshape(-1, 1)
print('array2d :\n', array2d.tolist())
print('array2d shape:\n', array2d.shape)
```

    array3d :
     [[[0, 1], [2, 3]], [[4, 5], [6, 7]]]
    array2d :
     [[0], [1], [2], [3], [4], [5], [6], [7]]
    array2d shape:
     (8, 1)





21-10-17 Comments

> 머신러닝 공부 전 선형대수학을 활용하기 위한 numpy에대한 공부가 필요. 내일 추가적으로 numpy 인덱싱과 sort(), agrsort() 에대한 스터디 진행!!



