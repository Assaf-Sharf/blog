---
layout: single
title:  "0121"
categories: firedectionv2
tag: [firedectionv2, react]
toc: true
author_profile: false
sidebar:
    nav: "docs"
---
# firedectionv2
## 진행
1. 변수  
리액트에선 useState라는 변수를 사용가능하다  
```javascript
import { useState } from 'react';

function App() {
  let [data,setData] = useState(0);
  return (
    <div className="App">
        <h2>{data}</h2>
    </div>
  );
}

export default App;
```  
이를 사용하는 용도는 이런 state에 변동사항이 있다면 해당 html도 자동으로 재렌더링된다.  
이를 {}안에 데이터 바인딩 해놓아서 쓸 수 있다  
그렇다면 위의 data를 변경할때는 어떻게 해야할까?  
답은 setData(변경할 stated)  
예로 들자면
```javascript
<h2>{data}<button onClick={()=>{setData(변경할 stated)}}></button></h2>
```
2. 배열 state는?
```javascript
import { useState } from 'react';

const TEST_DATA=[
  {
    "timeStamp": "20220614-113330",
    "uid": "admin",
    "url": "url1"
  },
  {
    "timeStamp": "20220614-113332",
    "uid": "admin",
    "url": "url2"
  }]
function App() {
  let [data,setData] = useState(TEST_DATA);
  return (
    <div className="App">
        <h2>{data}<button onClick={()=>{setData[0](변경할 state)}}></button></h2>
    </div>
  );
}

export default App;
```  
이런 식으로 짜면 될 것이다.  
setData의 0번째 요소에 접근해서 바꾸면 된다.  
하지만 이렇게 array, object 자료 다룰 때는 원본 데이터를 직접 조작하는 것 보다는 기존값은 보존해주는 식으로 코드짜는게 좋은 관습이라고 한다.  
그러므로 이렇게 짜주도록 하자  
```javascript
import { useState } from 'react';

const TEST_DATA=[
  {
    "timeStamp": "20220614-113330",
    "uid": "admin",
    "url": "url1"
  },
  {
    "timeStamp": "20220614-113332",
    "uid": "admin",
    "url": "url2"
  }]
function App() {
  let [data,setData] = useState(TEST_DATA);
  return (
    <div className="App">
        <h2>{data}<button onClick={()=>{
          let copy = [...data];//독립적으로 복사본 만들기
          copy[0]=변경할 state;
          setData(copy)}}></button></h2>
    </div>
  );
}

export default App;
```  