---

layout: single
title: "[JPA 프로그래밍] 10. 객체지향 쿼리언어"
toc: true
toc_sticky: true
toc_label: " "

---

## 경로 표현식

- .(점)을 찍어 객체 그래프를 탐색하는 것
- **상태 필드(state field)** : 단순히 값을 저장하기 위한 필드 (m.username), 경로 탐색의 끝, 탐색이 더 이상 되지 않음
- **연관 필드(association field)** : 연관관계를 위한 필드
    - **단일 값 연관 필드** :
        - 타겟 대상이 엔티티 (m.team) `@ManyToOne` `@OneToOne`
        - **묵시적 내부 조인(inner join) 발생** -> 상당히 위험, 외부 조인은 못함 (명시적 조인에서는 가능)
            
            ```sql
            select m.team from Member m
            ```
            
        - 최대한 명시적 조인으로 짜야 함 -> join 키워드 직접 사용
            
            ```sql
            select m from Member m join m.team t
            ```
            
        - 탐색 더 할 수 있음
    - **컬렉션 값 연관 필드** :
        - 타겟 대상이 컬렉션 (m.orders) `@OneToMany` `@ManyToMany`
        - 묵시적 내부 조인 발생
        - 더 이상 탐색이 되지 않음 > from 절에서 명시적 조인하여, 별칭을 얻어 별칭을 통해서는 탐색 가능
        
        ```sql
        // 더 이상 탐색 X
        select t.members from Team t
        ```
        
        ```sql
        // 탐색 가능
        select m.username from Team t join t.members m
        ```
        

> **제일 권장하는 방법은 묵시적 조인을 사용하지 않는 것**, 명시적 조인을 사용!!
>