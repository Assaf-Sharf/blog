---
layout: single
title: "[OS] 운영체제(3장) 프로세스 - 1"
categories: os
tag: [cs, os]
toc: true
---

# 프로세스

## 프로세스 개념

**CPU activity를 부르는 명칭**

- Batch 시스템 → 작업(Job)
- Time-shared 시스템 → User program, Task, Process

**Job, Task, Process 용어는 거의 같은 의미로 사용됨**

프로그램 – 디스크에 파일로 저장된 수동적 개체
- 프로그램 파일 = 코드(text section) + 초기화 데이터 + 헤더정보 등

**프로세스 - 실행 상태에 있는 능동적 개체, 연관된 자원 사용**
- 프로그램 코드보다 더 많은 부분을 포함
  - 메모리 : code + data + stack + heap
  - CPU : program counter(PC) + registers
  - 프로세스 관리용 자료구조 : 프로세스 제어 블록(PCB)

### 프로세스와 프로그램

![image](https://user-images.githubusercontent.com/100071667/227451920-5430a75e-3e0f-462c-898b-021809f3fb70.png)

여러 개의 프로세스가 같은 프로그램 사용 가능

- text section은 같음 - 같은 메모리 공유, 개별적인 실행 시퀀스
- data/stack/heap section은 다름 – 프로세스마다 개별적인 메모리 할당

### 프로세스 상태

프로세스의 현재활동을 나타내며, 실행하는 동안 상태 변화가 발생함

#### 프로세스 상태의 종류

 - 생성(new) – 프로세스가 생성 중임
 - 실행(running) – 명령어가 실행되고 있음
 - 대기(waiting) – 어떤 사건(입출력 완료, 신호 수신 등) 발생을 기다림
 - 준비(ready) – 프로세스가 실행할 준비가 됨 → CPU의 할당을 기다림
 - 종료(terminated) – 프로세스의 실행이 종료됨 →종료 후 처리를 기다림

프로세스 상태 이름과 종류는 운영체제마다 차이가 있다.

### 프로세스 상태도

![image](https://user-images.githubusercontent.com/100071667/227453555-97ca6a17-5e3c-4543-949e-9796f8591ab1.png)

- 한 CPU에서는 어떤 순간에 한 프로세스만 실행될 수 있다.
- 많은 수의 프로세스가 ready 또는 waiting 상태일 수가 있다.
- 프로세스가 다른 프로세스에 의해서 종료되면 프로세스는 ready 또는 waiting 상태에서 terminated 상태로 이동될 수 있다.

### 프로세스 제어 블록(PCB)

프로세스에 대한 정보를 포함하는 OS 커널의 자료 구조
**태스크 제어 블록**이라고도 함

#### 프로세스 context

프로그램의 실행 상태 정보 - 실행시간 동안 변경 가능

#### PCB 정보

![image](https://user-images.githubusercontent.com/100071667/227454065-0688fbe6-9169-47b0-b01f-029725a8ac36.png)

### 프로세스 스케쥴링

#### 스케쥴링의 필요성

- multiprogramming : CPU 이용률 극대화
- time sharing : 사용자와의 상호 작용 → 빈번한 CPU 스위칭

#### 프로세스 스케쥴링 Queue

- Job queue: 모든 프로세스들의 집합
-  Ready queue: ready 상태의 프로세스들의 집합 (메모리에 위치)
- Device queues: 특정 I/O 장치 사용을 대기하는 프로세스들의 집합
→ 일반적으로 linked list로 저장

**프로세스들은 실행 동안 여러 queue들 사이에서 이동함**
**프로세스가 종료되면 queue에서 제거되며 할당된 자원과 PCB도 반납함**

### 스케줄러

queue간에 이동할 프로세스를 선택하는 역할을 담당

3가지 스케줄러

**long-term 스케줄러(job scheduler)**

- disk pool에서 ready queue로 이동시킬 프로세스를 선택
- batch systems에서 사용

**short- term 스케줄러(CPU scheduler)**

- ready queue에서 다음에 실행시킬 프로세스를 선택하여 CPU를 할당함
→ 스케줄러는 대개 CPU 스케줄러를 말함

**medium- term 스케줄러(swapping)**

- time-sharing system에서 추가된 중간 레벨의 스케줄링
- 메모리 확보를 위해 메모리에서 disk로 이동시킬 프로세스를 선택

