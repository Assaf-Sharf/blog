---
layout: single
title: "[Data_Analysis] csv파일에 행과 열 추출한후 평균내기"
tags:
  - [Blog, DaTa_Analysis, Python]

toc: true
toc_sticky: true
 
date: 2022-12-13
last_modified_at: 2022-12-13
---

우선 원하는 csv 파일을 불러와 준다.

```python
import pandas as pd
```

```python
df = pd.read_csv('교통량.csv', encoding='cp949')
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>일자</th>
      <th>시도명</th>
      <th>읍면동명</th>
      <th>거주인구</th>
      <th>근무인구</th>
      <th>방문인구</th>
      <th>총 유동인구</th>
      <th>교통량</th>
      <th>평균 속도</th>
      <th>평균 소요 시간</th>
      <th>평균 기온</th>
      <th>일강수량</th>
      <th>평균 풍속</th>
      <th>데이터기준일자</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-01-01</td>
      <td>서귀포시</td>
      <td>남원읍</td>
      <td>291408.897</td>
      <td>18744.131</td>
      <td>219588.857</td>
      <td>529741.884</td>
      <td>76.200</td>
      <td>53.000</td>
      <td>40.571</td>
      <td>2.350</td>
      <td>0.000</td>
      <td>3.325</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018-01-02</td>
      <td>서귀포시</td>
      <td>남원읍</td>
      <td>290944.660</td>
      <td>27781.676</td>
      <td>166779.581</td>
      <td>485505.917</td>
      <td>72.800</td>
      <td>53.000</td>
      <td>40.771</td>
      <td>4.200</td>
      <td>0.000</td>
      <td>2.800</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018-01-03</td>
      <td>서귀포시</td>
      <td>남원읍</td>
      <td>287121.506</td>
      <td>27767.075</td>
      <td>181151.435</td>
      <td>496040.016</td>
      <td>73.971</td>
      <td>52.371</td>
      <td>41.514</td>
      <td>3.575</td>
      <td>0.000</td>
      <td>3.925</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018-01-04</td>
      <td>서귀포시</td>
      <td>남원읍</td>
      <td>279036.104</td>
      <td>27045.987</td>
      <td>188198.647</td>
      <td>494280.738</td>
      <td>70.286</td>
      <td>52.143</td>
      <td>41.514</td>
      <td>3.200</td>
      <td>1.625</td>
      <td>2.450</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018-01-05</td>
      <td>서귀포시</td>
      <td>남원읍</td>
      <td>287205.972</td>
      <td>24824.666</td>
      <td>171332.544</td>
      <td>483363.182</td>
      <td>66.314</td>
      <td>52.257</td>
      <td>41.486</td>
      <td>1.875</td>
      <td>2.750</td>
      <td>3.875</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32064</th>
      <td>2020-04-26</td>
      <td>제주시</td>
      <td>화북동</td>
      <td>609825.951</td>
      <td>23606.299</td>
      <td>195321.303</td>
      <td>828753.553</td>
      <td>968.647</td>
      <td>38.971</td>
      <td>28.824</td>
      <td>10.867</td>
      <td>0.000</td>
      <td>2.733</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>32065</th>
      <td>2020-04-27</td>
      <td>제주시</td>
      <td>화북동</td>
      <td>590585.828</td>
      <td>41293.221</td>
      <td>192992.291</td>
      <td>824871.340</td>
      <td>1284.588</td>
      <td>36.735</td>
      <td>31.441</td>
      <td>10.700</td>
      <td>0.000</td>
      <td>2.900</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>32066</th>
      <td>2020-04-28</td>
      <td>제주시</td>
      <td>화북동</td>
      <td>588189.415</td>
      <td>42228.414</td>
      <td>196053.574</td>
      <td>826471.404</td>
      <td>1306.324</td>
      <td>36.676</td>
      <td>30.971</td>
      <td>11.367</td>
      <td>0.000</td>
      <td>3.067</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>32067</th>
      <td>2020-04-29</td>
      <td>제주시</td>
      <td>화북동</td>
      <td>581854.765</td>
      <td>41445.253</td>
      <td>198362.285</td>
      <td>821662.304</td>
      <td>1318.000</td>
      <td>36.765</td>
      <td>30.853</td>
      <td>12.767</td>
      <td>0.000</td>
      <td>2.467</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>32068</th>
      <td>2020-04-30</td>
      <td>제주시</td>
      <td>화북동</td>
      <td>590532.552</td>
      <td>29199.649</td>
      <td>204839.107</td>
      <td>824571.308</td>
      <td>1078.853</td>
      <td>37.206</td>
      <td>30.235</td>
      <td>15.967</td>
      <td>0.000</td>
      <td>2.800</td>
      <td>2020-12-15</td>
    </tr>
  </tbody>
</table>
<p>32069 rows × 14 columns</p>
</div>

\
이렇게 df를 확인을 하고난 후 '읍면동명'에서 효돈동만 추출을 한다.
```python
two_10 = df[df['읍면동명'].str.contains('효돈동')]
two_10
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>일자</th>
      <th>시도명</th>
      <th>읍면동명</th>
      <th>거주인구</th>
      <th>근무인구</th>
      <th>방문인구</th>
      <th>총 유동인구</th>
      <th>교통량</th>
      <th>평균 속도</th>
      <th>평균 소요 시간</th>
      <th>평균 기온</th>
      <th>일강수량</th>
      <th>평균 풍속</th>
      <th>데이터기준일자</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12046</th>
      <td>2018-01-01</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>91129.741</td>
      <td>4398.469</td>
      <td>45366.822</td>
      <td>140895.032</td>
      <td>0.000</td>
      <td>40.667</td>
      <td>19.467</td>
      <td>2.350</td>
      <td>0.000</td>
      <td>3.325</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12047</th>
      <td>2018-01-02</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>89649.315</td>
      <td>6276.255</td>
      <td>37765.467</td>
      <td>133691.037</td>
      <td>0.000</td>
      <td>39.200</td>
      <td>20.333</td>
      <td>4.200</td>
      <td>0.000</td>
      <td>2.800</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12048</th>
      <td>2018-01-03</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>87486.698</td>
      <td>6557.714</td>
      <td>39476.516</td>
      <td>133520.928</td>
      <td>0.000</td>
      <td>39.000</td>
      <td>20.533</td>
      <td>3.575</td>
      <td>0.000</td>
      <td>3.925</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12049</th>
      <td>2018-01-04</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>85406.267</td>
      <td>5866.059</td>
      <td>37502.551</td>
      <td>128774.877</td>
      <td>0.000</td>
      <td>39.133</td>
      <td>20.533</td>
      <td>3.200</td>
      <td>1.625</td>
      <td>2.450</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12050</th>
      <td>2018-01-05</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>88702.329</td>
      <td>5733.096</td>
      <td>35614.645</td>
      <td>130050.070</td>
      <td>0.000</td>
      <td>39.533</td>
      <td>20.133</td>
      <td>1.875</td>
      <td>2.750</td>
      <td>3.875</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>12843</th>
      <td>2020-04-26</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86402.499</td>
      <td>3140.354</td>
      <td>37923.729</td>
      <td>127466.581</td>
      <td>24.333</td>
      <td>41.000</td>
      <td>20.800</td>
      <td>11.725</td>
      <td>0.000</td>
      <td>2.800</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12844</th>
      <td>2020-04-27</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86140.951</td>
      <td>4722.105</td>
      <td>31742.082</td>
      <td>122605.138</td>
      <td>12.400</td>
      <td>40.000</td>
      <td>21.400</td>
      <td>11.325</td>
      <td>0.000</td>
      <td>3.000</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12845</th>
      <td>2020-04-28</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>85918.333</td>
      <td>4611.685</td>
      <td>31968.292</td>
      <td>122498.310</td>
      <td>25.000</td>
      <td>39.467</td>
      <td>23.467</td>
      <td>10.450</td>
      <td>0.000</td>
      <td>2.850</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12846</th>
      <td>2020-04-29</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86175.827</td>
      <td>4442.342</td>
      <td>34153.027</td>
      <td>124771.196</td>
      <td>23.800</td>
      <td>39.133</td>
      <td>22.933</td>
      <td>11.800</td>
      <td>0.000</td>
      <td>2.375</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12847</th>
      <td>2020-04-30</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86395.387</td>
      <td>3376.105</td>
      <td>40645.258</td>
      <td>130416.750</td>
      <td>61.733</td>
      <td>39.333</td>
      <td>23.000</td>
      <td>15.375</td>
      <td>0.000</td>
      <td>3.825</td>
      <td>2020-12-15</td>
    </tr>
  </tbody>
</table>
<p>802 rows × 14 columns</p>
</div>



효돈동을 추출해주고 '일자'에서 원하는 기간만 따로 추출을 시킨다.
\
나는 2019-01-01 ~ 2020-04-30일 까지 추출을 해주었다.

```python
two_9 = two_10[two_10['일자'].between('2019-01-01', '2020-4-30')]
two_9
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>일자</th>
      <th>시도명</th>
      <th>읍면동명</th>
      <th>거주인구</th>
      <th>근무인구</th>
      <th>방문인구</th>
      <th>총 유동인구</th>
      <th>교통량</th>
      <th>평균 속도</th>
      <th>평균 소요 시간</th>
      <th>평균 기온</th>
      <th>일강수량</th>
      <th>평균 풍속</th>
      <th>데이터기준일자</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12383</th>
      <td>2019-01-18</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>82496.759</td>
      <td>5670.553</td>
      <td>40792.055</td>
      <td>128959.367</td>
      <td>0.000</td>
      <td>39.733</td>
      <td>20.133</td>
      <td>3.400</td>
      <td>0.00</td>
      <td>2.550</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12384</th>
      <td>2019-01-19</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>83910.949</td>
      <td>5066.984</td>
      <td>43953.024</td>
      <td>132930.957</td>
      <td>0.000</td>
      <td>39.867</td>
      <td>19.800</td>
      <td>6.450</td>
      <td>2.25</td>
      <td>2.550</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12385</th>
      <td>2019-01-20</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>85770.930</td>
      <td>5294.463</td>
      <td>44935.487</td>
      <td>136000.880</td>
      <td>0.000</td>
      <td>41.267</td>
      <td>19.467</td>
      <td>3.175</td>
      <td>0.25</td>
      <td>6.067</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12386</th>
      <td>2019-01-21</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>83117.389</td>
      <td>6143.514</td>
      <td>39071.741</td>
      <td>128332.644</td>
      <td>0.000</td>
      <td>40.200</td>
      <td>19.800</td>
      <td>2.000</td>
      <td>0.00</td>
      <td>3.667</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12387</th>
      <td>2019-01-22</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>80779.852</td>
      <td>6564.210</td>
      <td>40208.520</td>
      <td>127552.582</td>
      <td>0.000</td>
      <td>39.467</td>
      <td>20.200</td>
      <td>3.375</td>
      <td>0.00</td>
      <td>2.725</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>12843</th>
      <td>2020-04-26</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86402.499</td>
      <td>3140.354</td>
      <td>37923.729</td>
      <td>127466.581</td>
      <td>24.333</td>
      <td>41.000</td>
      <td>20.800</td>
      <td>11.725</td>
      <td>0.00</td>
      <td>2.800</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12844</th>
      <td>2020-04-27</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86140.951</td>
      <td>4722.105</td>
      <td>31742.082</td>
      <td>122605.138</td>
      <td>12.400</td>
      <td>40.000</td>
      <td>21.400</td>
      <td>11.325</td>
      <td>0.00</td>
      <td>3.000</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12845</th>
      <td>2020-04-28</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>85918.333</td>
      <td>4611.685</td>
      <td>31968.292</td>
      <td>122498.310</td>
      <td>25.000</td>
      <td>39.467</td>
      <td>23.467</td>
      <td>10.450</td>
      <td>0.00</td>
      <td>2.850</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12846</th>
      <td>2020-04-29</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86175.827</td>
      <td>4442.342</td>
      <td>34153.027</td>
      <td>124771.196</td>
      <td>23.800</td>
      <td>39.133</td>
      <td>22.933</td>
      <td>11.800</td>
      <td>0.00</td>
      <td>2.375</td>
      <td>2020-12-15</td>
    </tr>
    <tr>
      <th>12847</th>
      <td>2020-04-30</td>
      <td>서귀포시</td>
      <td>효돈동</td>
      <td>86395.387</td>
      <td>3376.105</td>
      <td>40645.258</td>
      <td>130416.750</td>
      <td>61.733</td>
      <td>39.333</td>
      <td>23.000</td>
      <td>15.375</td>
      <td>0.00</td>
      <td>3.825</td>
      <td>2020-12-15</td>
    </tr>
  </tbody>
</table>
<p>465 rows × 14 columns</p>
</div>



이제 교통량의 평균을 구해준다
```python
two_8 = two_9[['교통량']]
two_8
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>교통량</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12383</th>
      <td>0.000</td>
    </tr>
    <tr>
      <th>12384</th>
      <td>0.000</td>
    </tr>
    <tr>
      <th>12385</th>
      <td>0.000</td>
    </tr>
    <tr>
      <th>12386</th>
      <td>0.000</td>
    </tr>
    <tr>
      <th>12387</th>
      <td>0.000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>12843</th>
      <td>24.333</td>
    </tr>
    <tr>
      <th>12844</th>
      <td>12.400</td>
    </tr>
    <tr>
      <th>12845</th>
      <td>25.000</td>
    </tr>
    <tr>
      <th>12846</th>
      <td>23.800</td>
    </tr>
    <tr>
      <th>12847</th>
      <td>61.733</td>
    </tr>
  </tbody>
</table>
<p>465 rows × 1 columns</p>
</div>




```python
two_8.mean()
```




    교통량    7.511553
    dtype: float64
